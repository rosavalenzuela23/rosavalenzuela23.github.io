import{h as Q,r as c,i as h,p as re,g as p,j as q}from"./index-DngGMs-x.js";var _={};_.match=me;_.parse=B;var oe=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,ce=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,ie=/^(?:(min|max)-)?(.+)/,le=/(em|rem|px|cm|mm|in|pt|pc)?$/,ue=/(dpi|dpcm|dppx)?$/;function me(e,t){return B(e).some(function(s){var n=s.inverse,a=s.type==="all"||t.type===s.type;if(a&&n||!(a||n))return!1;var r=s.expressions.every(function(l){var m=l.feature,f=l.modifier,o=l.value,u=t[m];if(!u)return!1;switch(m){case"orientation":case"scan":return u.toLowerCase()===o.toLowerCase();case"width":case"height":case"device-width":case"device-height":o=L(o),u=L(u);break;case"resolution":o=I(o),u=I(u);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":o=k(o),u=k(u);break;case"grid":case"color":case"color-index":case"monochrome":o=parseInt(o,10)||1,u=parseInt(u,10)||0;break}switch(f){case"min":return u>=o;case"max":return u<=o;default:return u===o}});return r&&!n||!r&&n})}function B(e){return e.split(",").map(function(t){t=t.trim();var s=t.match(oe),n=s[1],a=s[2],r=s[3]||"",l={};return l.inverse=!!n&&n.toLowerCase()==="not",l.type=a?a.toLowerCase():"all",r=r.match(/\([^\)]+\)/g)||[],l.expressions=r.map(function(m){var f=m.match(ce),o=f[1].toLowerCase().match(ie);return{modifier:o[1],feature:o[2],value:f[2]}}),l})}function k(e){var t=Number(e),s;return t||(s=e.match(/^(\d+)\s*\/\s*(\d+)$/),t=s[1]/s[2]),t}function I(e){var t=parseFloat(e),s=String(e).match(ue)[1];switch(s){case"dpcm":return t/2.54;case"dppx":return t*96;default:return t}}function L(e){var t=parseFloat(e),s=String(e).match(le)[1];switch(s){case"em":return t*16;case"rem":return t*16;case"cm":return t*96/2.54;case"mm":return t*96/2.54/10;case"in":return t*96;case"pt":return t*72;case"pc":return t*72/12;default:return t}}var de=_.match,M=typeof window<"u"?window.matchMedia:null;function fe(e,t,s){var n=this,a;M&&!s&&(a=M.call(window,e)),a?(this.matches=a.matches,this.media=a.media,a.addListener(m)):(this.matches=de(e,t),this.media=e),this.addListener=r,this.removeListener=l,this.dispose=f;function r(o){a&&a.addListener(o)}function l(o){a&&a.removeListener(o)}function m(o){n.matches=o.matches,n.media=o.media}function f(){a&&a.removeListener(m)}}function he(e,t,s){return new fe(e,t,s)}var pe=he;const ge=Q(pe);var ye=/[A-Z]/g,ve=/^ms-/,E={};function Se(e){return"-"+e.toLowerCase()}function G(e){if(E.hasOwnProperty(e))return E[e];var t=e.replace(ye,Se);return E[e]=ve.test(t)?"-"+t:t}function Oe(e,t){if(e===t)return!0;if(!e||!t)return!1;const s=Object.keys(e),n=Object.keys(t),a=s.length;if(n.length!==a)return!1;for(let r=0;r<a;r++){const l=s[r];if(e[l]!==t[l]||!Object.prototype.hasOwnProperty.call(t,l))return!1}return!0}var J={exports:{}},be="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",we=be,Ce=we;function Y(){}function Z(){}Z.resetWarningCache=Y;var xe=function(){function e(n,a,r,l,m,f){if(f!==Ce){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Z,resetWarningCache:Y};return s.PropTypes=s,s};J.exports=xe();var Ee=J.exports;const i=Q(Ee),d=i.oneOfType([i.string,i.number]),X={all:i.bool,grid:i.bool,aural:i.bool,braille:i.bool,handheld:i.bool,print:i.bool,projection:i.bool,screen:i.bool,tty:i.bool,tv:i.bool,embossed:i.bool},_e={orientation:i.oneOf(["portrait","landscape"]),scan:i.oneOf(["progressive","interlace"]),aspectRatio:i.string,deviceAspectRatio:i.string,height:d,deviceHeight:d,width:d,deviceWidth:d,color:i.bool,colorIndex:i.bool,monochrome:i.bool,resolution:d,type:Object.keys(X)},{...ke}=_e,Ie={minAspectRatio:i.string,maxAspectRatio:i.string,minDeviceAspectRatio:i.string,maxDeviceAspectRatio:i.string,minHeight:d,maxHeight:d,minDeviceHeight:d,maxDeviceHeight:d,minWidth:d,maxWidth:d,minDeviceWidth:d,maxDeviceWidth:d,minColor:i.number,maxColor:i.number,minColorIndex:i.number,maxColorIndex:i.number,minMonochrome:i.number,maxMonochrome:i.number,minResolution:d,maxResolution:d,...ke},Le={...X,...Ie};var Me={all:Le};const Te=e=>`not ${e}`,Re=(e,t)=>{const s=G(e);return typeof t=="number"&&(t=`${t}px`),t===!0?s:t===!1?Te(s):`(${s}: ${t})`},De=e=>e.join(" and "),Ne=e=>{const t=[];return Object.keys(Me.all).forEach(s=>{const n=e[s];n!=null&&t.push(Re(s,n))}),De(t)},Pe=c.createContext(void 0),Ae=e=>e.query||Ne(e),T=e=>e?Object.keys(e).reduce((s,n)=>(s[G(n)]=e[n],s),{}):void 0,z=()=>{const e=c.useRef(!1);return c.useEffect(()=>{e.current=!0},[]),e.current},Ke=e=>{const t=c.useContext(Pe),s=()=>T(e)||T(t),[n,a]=c.useState(s);return c.useEffect(()=>{const r=s();Oe(n,r)||a(r)},[e,t]),n},We=e=>{const t=()=>Ae(e),[s,n]=c.useState(t);return c.useEffect(()=>{const a=t();s!==a&&n(a)},[e]),s},Ue=(e,t)=>{const s=()=>ge(e,t||{},!!t),[n,a]=c.useState(s),r=z();return c.useEffect(()=>{if(r){const l=s();return a(l),()=>{l&&l.dispose()}}},[e,t]),n},Fe=e=>{const[t,s]=c.useState(e.matches);return c.useEffect(()=>{const n=a=>{s(a.matches)};return e.addListener(n),s(e.matches),()=>{e.removeListener(n)}},[e]),t},$e=(e,t,s)=>{const n=Ke(t),a=We(e);if(!a)throw new Error("Invalid or missing MediaQuery!");const r=Ue(a,n),l=Fe(r);return z(),c.useEffect(()=>{},[l]),c.useEffect(()=>()=>{r&&r.dispose()},[]),l},je=c.createContext({theme:"system",setTheme:h,effectiveTheme:"light"}),R=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,D=re,Ge=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return D(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:r}=t,l=Object.keys(a).map(o=>{const u=s==null?void 0:s[o],g=r==null?void 0:r[o];if(u===null)return null;const y=R(u)||R(g);return a[o][y]}),m=s&&Object.entries(s).reduce((o,u)=>{let[g,y]=u;return y===void 0||(o[g]=y),o},{}),f=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((o,u)=>{let{class:g,className:y,...S}=u;return Object.entries(S).every(b=>{let[v,O]=b;return Array.isArray(O)?O.includes({...r,...m}[v]):{...r,...m}[v]===O})?[...o,g,y]:o},[]);return D(e,l,f,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ee=(...e)=>e.filter((t,s,n)=>!!t&&n.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=c.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:r,iconNode:l,...m},f)=>c.createElement("svg",{ref:f,...Ve,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:ee("lucide",a),...m},[...l.map(([o,u])=>c.createElement(o,u)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(e,t)=>{const s=c.forwardRef(({className:n,...a},r)=>c.createElement(Qe,{ref:r,iconNode:t,className:ee(`lucide-${He(e)}`,n),...a}));return s.displayName=`${e}`,s},te=c.createContext({theme:"system",setTheme:h,scrollAction:"pan",setScrollAction:h,schemasFilter:{},setSchemasFilter:h,showCardinality:!1,setShowCardinality:h,hideMultiSchemaNotification:!1,setHideMultiSchemaNotification:h,githubRepoOpened:!1,setGithubRepoOpened:h,starUsDialogLastOpen:0,setStarUsDialogLastOpen:h,buckleWaitlistOpened:!1,setBuckleWaitlistOpened:h,buckleDialogLastOpen:0,setBuckleDialogLastOpen:h,showDependenciesOnCanvas:!1,setShowDependenciesOnCanvas:h,showMiniMapOnCanvas:!1,setShowMiniMapOnCanvas:h}),qe=()=>c.useContext(te),N="theme",P="scroll_action",A="schemas_filter",K="show_cardinality",W="hide_multi_schema_notification",U="github_repo_opened",F="star_us_dialog_last_open",$="buckle_waitlist_opened",j="buckle_dialog_last_open",H="show_dependencies_on_canvas",V="show_minimap_on_canvas",Ye=({children:e})=>{const[t,s]=p.useState(localStorage.getItem(N)||"system"),[n,a]=p.useState(localStorage.getItem(P)||"pan"),[r,l]=p.useState(JSON.parse(localStorage.getItem(A)||"{}")),[m,f]=p.useState((localStorage.getItem(K)||"false")==="true"),[o,u]=p.useState((localStorage.getItem(W)||"false")==="true"),[g,y]=p.useState((localStorage.getItem(U)||"false")==="true"),[S,b]=p.useState(parseInt(localStorage.getItem(F)||"0")),[v,O]=p.useState((localStorage.getItem($)||"false")==="true"),[w,se]=p.useState(parseInt(localStorage.getItem(j)||"0")),[C,ne]=p.useState((localStorage.getItem(H)||"false")==="true"),[x,ae]=p.useState((localStorage.getItem(V)||"true")==="true");return c.useEffect(()=>{localStorage.setItem(F,S.toString())},[S]),c.useEffect(()=>{localStorage.setItem(U,g.toString())},[g]),c.useEffect(()=>{localStorage.setItem(j,w.toString())},[w]),c.useEffect(()=>{localStorage.setItem($,v.toString())},[v]),c.useEffect(()=>{localStorage.setItem(W,o.toString())},[o]),c.useEffect(()=>{localStorage.setItem(N,t)},[t]),c.useEffect(()=>{localStorage.setItem(P,n)},[n]),c.useEffect(()=>{localStorage.setItem(A,JSON.stringify(r))},[r]),c.useEffect(()=>{localStorage.setItem(K,m.toString())},[m]),c.useEffect(()=>{localStorage.setItem(H,C.toString())},[C]),c.useEffect(()=>{localStorage.setItem(V,x.toString())},[x]),q.jsx(te.Provider,{value:{theme:t,setTheme:s,scrollAction:n,setScrollAction:a,schemasFilter:r,setSchemasFilter:l,showCardinality:m,setShowCardinality:f,hideMultiSchemaNotification:o,setHideMultiSchemaNotification:u,setGithubRepoOpened:y,githubRepoOpened:g,starUsDialogLastOpen:S,setStarUsDialogLastOpen:b,showDependenciesOnCanvas:C,setShowDependenciesOnCanvas:ne,setBuckleDialogLastOpen:se,buckleDialogLastOpen:w,buckleWaitlistOpened:v,setBuckleWaitlistOpened:O,showMiniMapOnCanvas:x,setShowMiniMapOnCanvas:ae},children:e})},Ze=({children:e})=>{const{theme:t,setTheme:s}=qe(),a=$e({query:"(prefers-color-scheme: dark)"})?"dark":"light",[r,l]=c.useState(a);return c.useEffect(()=>{l(t==="system"?a:t)},[t,a]),c.useEffect(()=>{r==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),q.jsx(je.Provider,{value:{theme:t,setTheme:s,effectiveTheme:r},children:e})};export{Ye as L,Ze as T,Ge as a,je as b,Je as c,$e as d,qe as u};
