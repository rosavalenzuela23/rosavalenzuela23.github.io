import{r as c,q as Ss,s as ot,j as s,t as Bo,v as $t,w as jt,x as pe,y as Te,P as q,V as Fo,A as Vo,z as W,B as Ke,C as $o,S as Ho,D as Wo,E as Ko,F as Uo,g as N,b as J,G as Rs,I as qo,T as de,e as ue,f as fe,J as Go,o as Xo}from"./index-DngGMs-x.js";import{X as _s,Y as Is,Z as Yo,_ as Zo,$ as Jo,a0 as Qo,a1 as ea,a2 as ta,a3 as Ds,a4 as na,a5 as ks,c as he,j as Nn,f as ge,b as Nt,u as Ie,l as Sn,a6 as Es,a7 as cn,a8 as sa,a9 as Ye,aa as Ze,Q as Ts,ab as Rn,ac as Ms,ad as ds,ae as ra,af as oa,q as aa,ag as ia,H as la,ah as ca}from"./canvas-utils-Bo482CbG.js";import{c as us,e as _n,f as In,g as Dn,h as kn,i as nt,j as st,k as We,F as dn,l as As,n as da,S as En,o as Tn,p as Mn,q as An,r as Ps,s as ua,u as fa,v as pa,w as ha,x as fs,y as Pn,X as ma,z as Os,A as Ls,B as xa}from"./code-editor-ZE9xhkVa.js";import{B as U,L as at}from"./label-B61IYMRO.js";import{c as we}from"./theme-provider-Bg5O9Ay7.js";import{S as yt}from"./canvas-VkQ5DD9m.js";import{c as ga,u as zs}from"./colors-D1Sckjvp.js";import{d as va,a as ba,s as ya}from"./storage-provider-BC0RSelR.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=we("ChevronsLeftRightEllipsis",[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=we("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=we("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=we("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=we("FileKey2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v6",key:"rc0qvx"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"4",cy:"16",r:"2",key:"1ehqvc"}],["path",{d:"m10 10-4.5 4.5",key:"7fwrp6"}],["path",{d:"m9 11 1 1",key:"wa6s5q"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=we("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=we("Group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=we("ListCollapse",[["path",{d:"m3 10 2.5-2.5L3 5",key:"i6eama"}],["path",{d:"m3 19 2.5-2.5L3 14",key:"w2gmor"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=we("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=we("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);function $s(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ra=[" ","Enter","ArrowUp","ArrowDown"],_a=[" ","Enter"],St="Select",[Ht,Wt,Ia]=Is(St),[lt,Dc]=$t(St,[Ia,Ss]),Kt=Ss(),[Da,$e]=lt(St),[ka,Ea]=lt(St),Hs=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:a,value:i,defaultValue:l,onValueChange:d,dir:u,name:p,autoComplete:f,disabled:h,required:v,form:w}=e,m=Kt(t),[g,y]=c.useState(null),[x,b]=c.useState(null),[C,j]=c.useState(!1),I=_s(u),[R=!1,_]=ot({prop:r,defaultProp:o,onChange:a}),[T,A]=ot({prop:i,defaultProp:l,onChange:d}),E=c.useRef(null),F=g?w||!!g.closest("form"):!0,[z,k]=c.useState(new Set),V=Array.from(z).map($=>$.props.value).join(";");return s.jsx(Bo,{...m,children:s.jsxs(Da,{required:v,scope:t,trigger:g,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:j,contentId:jt(),value:T,onValueChange:A,open:R,onOpenChange:_,dir:I,triggerPointerDownPosRef:E,disabled:h,children:[s.jsx(Ht.Provider,{scope:t,children:s.jsx(ka,{scope:e.__scopeSelect,onNativeOptionAdd:c.useCallback($=>{k(B=>new Set(B).add($))},[]),onNativeOptionRemove:c.useCallback($=>{k(B=>{const ne=new Set(B);return ne.delete($),ne})},[]),children:n})}),F?s.jsxs(mr,{"aria-hidden":!0,required:v,tabIndex:-1,name:p,autoComplete:f,value:T,onChange:$=>A($.target.value),disabled:h,form:w,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(z)]},V):null]})})};Hs.displayName=St;var Ws="SelectTrigger",Ks=c.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,a=Kt(n),i=$e(Ws,n),l=i.disabled||r,d=pe(t,i.onTriggerChange),u=Wt(n),p=c.useRef("touch"),[f,h,v]=xr(m=>{const g=u().filter(b=>!b.disabled),y=g.find(b=>b.value===i.value),x=gr(g,m,y);x!==void 0&&i.onValueChange(x.value)}),w=m=>{l||(i.onOpenChange(!0),v()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(Vo,{asChild:!0,...a,children:s.jsx(q.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":hr(i.value)?"":void 0,...o,ref:d,onClick:W(o.onClick,m=>{m.currentTarget.focus(),p.current!=="mouse"&&w(m)}),onPointerDown:W(o.onPointerDown,m=>{p.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(w(m),m.preventDefault())}),onKeyDown:W(o.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&Ra.includes(m.key)&&(w(),m.preventDefault())})})})});Ks.displayName=Ws;var Us="SelectValue",qs=c.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:i="",...l}=e,d=$e(Us,n),{onValueNodeHasChildrenChange:u}=d,p=a!==void 0,f=pe(t,d.onValueNodeChange);return Te(()=>{u(p)},[u,p]),s.jsx(q.span,{...l,ref:f,style:{pointerEvents:"none"},children:hr(d.value)?s.jsx(s.Fragment,{children:i}):a})});qs.displayName=Us;var Ta="SelectIcon",Gs=c.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return s.jsx(q.span,{"aria-hidden":!0,...o,ref:t,children:r||"â–¼"})});Gs.displayName=Ta;var Ma="SelectPortal",Xs=e=>s.jsx(Yo,{asChild:!0,...e});Xs.displayName=Ma;var Xe="SelectContent",Ys=c.forwardRef((e,t)=>{const n=$e(Xe,e.__scopeSelect),[r,o]=c.useState();if(Te(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?Ke.createPortal(s.jsx(Zs,{scope:e.__scopeSelect,children:s.jsx(Ht.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(Js,{...e,ref:t})});Ys.displayName=Xe;var ve=10,[Zs,He]=lt(Xe),Aa="SelectContentImpl",Js=c.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:d,align:u,alignOffset:p,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:w,hideWhenDetached:m,avoidCollisions:g,...y}=e,x=$e(Xe,n),[b,C]=c.useState(null),[j,I]=c.useState(null),R=pe(t,D=>C(D)),[_,T]=c.useState(null),[A,E]=c.useState(null),F=Wt(n),[z,k]=c.useState(!1),V=c.useRef(!1);c.useEffect(()=>{if(b)return Zo(b)},[b]),Jo();const $=c.useCallback(D=>{const[P,...H]=F().map(M=>M.ref.current),[S]=H.slice(-1),O=document.activeElement;for(const M of D)if(M===O||(M==null||M.scrollIntoView({block:"nearest"}),M===P&&j&&(j.scrollTop=0),M===S&&j&&(j.scrollTop=j.scrollHeight),M==null||M.focus(),document.activeElement!==O))return},[F,j]),B=c.useCallback(()=>$([_,b]),[$,_,b]);c.useEffect(()=>{z&&B()},[z,B]);const{onOpenChange:ne,triggerPointerDownPosRef:G}=x;c.useEffect(()=>{if(b){let D={x:0,y:0};const P=S=>{var O,M;D={x:Math.abs(Math.round(S.pageX)-(((O=G.current)==null?void 0:O.x)??0)),y:Math.abs(Math.round(S.pageY)-(((M=G.current)==null?void 0:M.y)??0))}},H=S=>{D.x<=10&&D.y<=10?S.preventDefault():b.contains(S.target)||ne(!1),document.removeEventListener("pointermove",P),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",P),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",H,{capture:!0})}}},[b,ne,G]),c.useEffect(()=>{const D=()=>ne(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[ne]);const[De,ke]=xr(D=>{const P=F().filter(O=>!O.disabled),H=P.find(O=>O.ref.current===document.activeElement),S=gr(P,D,H);S&&setTimeout(()=>S.ref.current.focus())}),X=c.useCallback((D,P,H)=>{const S=!V.current&&!H;(x.value!==void 0&&x.value===P||S)&&(T(D),S&&(V.current=!0))},[x.value]),ae=c.useCallback(()=>b==null?void 0:b.focus(),[b]),se=c.useCallback((D,P,H)=>{const S=!V.current&&!H;(x.value!==void 0&&x.value===P||S)&&E(D)},[x.value]),Ce=r==="popper"?fn:Qs,Y=Ce===fn?{side:l,sideOffset:d,align:u,alignOffset:p,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:w,hideWhenDetached:m,avoidCollisions:g}:{};return s.jsx(Zs,{scope:n,content:b,viewport:j,onViewportChange:I,itemRefCallback:X,selectedItem:_,onItemLeave:ae,itemTextRefCallback:se,focusSelectedItem:B,selectedItemText:A,position:r,isPositioned:z,searchRef:De,children:s.jsx(Qo,{as:Ho,allowPinchZoom:!0,children:s.jsx(ea,{asChild:!0,trapped:x.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:W(o,D=>{var P;(P=x.trigger)==null||P.focus({preventScroll:!0}),D.preventDefault()}),children:s.jsx(Wo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(Ce,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:D=>D.preventDefault(),...y,...Y,onPlaced:()=>k(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:W(y.onKeyDown,D=>{const P=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!P&&D.key.length===1&&ke(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let S=F().filter(O=>!O.disabled).map(O=>O.ref.current);if(["ArrowUp","End"].includes(D.key)&&(S=S.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const O=D.target,M=S.indexOf(O);S=S.slice(M+1)}setTimeout(()=>$(S)),D.preventDefault()}})})})})})})});Js.displayName=Aa;var Pa="SelectItemAlignedPosition",Qs=c.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,a=$e(Xe,n),i=He(Xe,n),[l,d]=c.useState(null),[u,p]=c.useState(null),f=pe(t,R=>p(R)),h=Wt(n),v=c.useRef(!1),w=c.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:x}=i,b=c.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&m&&g&&y){const R=a.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(a.dir!=="rtl"){const O=A.left-_.left,M=T.left-O,re=R.left-M,Q=R.width+re,je=Math.max(Q,_.width),Ne=window.innerWidth-ve,Je=us(M,[ve,Math.max(ve,Ne-je)]);l.style.minWidth=Q+"px",l.style.left=Je+"px"}else{const O=_.right-A.right,M=window.innerWidth-T.right-O,re=window.innerWidth-R.right-M,Q=R.width+re,je=Math.max(Q,_.width),Ne=window.innerWidth-ve,Je=us(M,[ve,Math.max(ve,Ne-je)]);l.style.minWidth=Q+"px",l.style.right=Je+"px"}const E=h(),F=window.innerHeight-ve*2,z=m.scrollHeight,k=window.getComputedStyle(u),V=parseInt(k.borderTopWidth,10),$=parseInt(k.paddingTop,10),B=parseInt(k.borderBottomWidth,10),ne=parseInt(k.paddingBottom,10),G=V+$+z+ne+B,De=Math.min(g.offsetHeight*5,G),ke=window.getComputedStyle(m),X=parseInt(ke.paddingTop,10),ae=parseInt(ke.paddingBottom,10),se=R.top+R.height/2-ve,Ce=F-se,Y=g.offsetHeight/2,D=g.offsetTop+Y,P=V+$+D,H=G-P;if(P<=se){const O=E.length>0&&g===E[E.length-1].ref.current;l.style.bottom="0px";const M=u.clientHeight-m.offsetTop-m.offsetHeight,re=Math.max(Ce,Y+(O?ae:0)+M+B),Q=P+re;l.style.height=Q+"px"}else{const O=E.length>0&&g===E[0].ref.current;l.style.top="0px";const re=Math.max(se,V+m.offsetTop+(O?X:0)+Y)+H;l.style.height=re+"px",m.scrollTop=P-se+m.offsetTop}l.style.margin=`${ve}px 0`,l.style.minHeight=De+"px",l.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[h,a.trigger,a.valueNode,l,u,m,g,y,a.dir,r]);Te(()=>b(),[b]);const[C,j]=c.useState();Te(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const I=c.useCallback(R=>{R&&w.current===!0&&(b(),x==null||x(),w.current=!1)},[b,x]);return s.jsx(La,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:I,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(q.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Qs.displayName=Pa;var Oa="SelectPopperPosition",fn=c.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=ve,...a}=e,i=Kt(n);return s.jsx(Ko,{...i,...a,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fn.displayName=Oa;var[La,Ln]=lt(Xe,{}),pn="SelectViewport",er=c.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,a=He(pn,n),i=Ln(pn,n),l=pe(t,a.onViewportChange),d=c.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Ht.Slot,{scope:n,children:s.jsx(q.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:W(o.onScroll,u=>{const p=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const v=Math.abs(d.current-p.scrollTop);if(v>0){const w=window.innerHeight-ve*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(m,g);if(y<w){const x=y+v,b=Math.min(w,x),C=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(p.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});er.displayName=pn;var tr="SelectGroup",[za,Ba]=lt(tr),nr=c.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=jt();return s.jsx(za,{scope:n,id:o,children:s.jsx(q.div,{role:"group","aria-labelledby":o,...r,ref:t})})});nr.displayName=tr;var sr="SelectLabel",rr=c.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Ba(sr,n);return s.jsx(q.div,{id:o.id,...r,ref:t})});rr.displayName=sr;var Ot="SelectItem",[Fa,or]=lt(Ot),ar=c.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...i}=e,l=$e(Ot,n),d=He(Ot,n),u=l.value===r,[p,f]=c.useState(a??""),[h,v]=c.useState(!1),w=pe(t,x=>{var b;return(b=d.itemRefCallback)==null?void 0:b.call(d,x,r,o)}),m=jt(),g=c.useRef("touch"),y=()=>{o||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Fa,{scope:n,value:r,disabled:o,textId:m,isSelected:u,onItemTextChange:c.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(Ht.ItemSlot,{scope:n,value:r,disabled:o,textValue:p,children:s.jsx(q.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:w,onFocus:W(i.onFocus,()=>v(!0)),onBlur:W(i.onBlur,()=>v(!1)),onClick:W(i.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:W(i.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:W(i.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:W(i.onPointerMove,x=>{var b;g.current=x.pointerType,o?(b=d.onItemLeave)==null||b.call(d):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:W(i.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=d.onItemLeave)==null||b.call(d))}),onKeyDown:W(i.onKeyDown,x=>{var C;((C=d.searchRef)==null?void 0:C.current)!==""&&x.key===" "||(_a.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});ar.displayName=Ot;var xt="SelectItemText",ir=c.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...a}=e,i=$e(xt,n),l=He(xt,n),d=or(xt,n),u=Ea(xt,n),[p,f]=c.useState(null),h=pe(t,y=>f(y),d.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,d.value,d.disabled)}),v=p==null?void 0:p.textContent,w=c.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return Te(()=>(m(w),()=>g(w)),[m,g,w]),s.jsxs(s.Fragment,{children:[s.jsx(q.span,{id:d.textId,...a,ref:h}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ke.createPortal(a.children,i.valueNode):null]})});ir.displayName=xt;var lr="SelectItemIndicator",cr=c.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return or(lr,n).isSelected?s.jsx(q.span,{"aria-hidden":!0,...r,ref:t}):null});cr.displayName=lr;var hn="SelectScrollUpButton",dr=c.forwardRef((e,t)=>{const n=He(hn,e.__scopeSelect),r=Ln(hn,e.__scopeSelect),[o,a]=c.useState(!1),i=pe(t,r.onScrollButtonChange);return Te(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=d.scrollTop>0;a(u)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?s.jsx(fr,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});dr.displayName=hn;var mn="SelectScrollDownButton",ur=c.forwardRef((e,t)=>{const n=He(mn,e.__scopeSelect),r=Ln(mn,e.__scopeSelect),[o,a]=c.useState(!1),i=pe(t,r.onScrollButtonChange);return Te(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<u;a(p)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?s.jsx(fr,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});ur.displayName=mn;var fr=c.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,a=He("SelectScrollButton",n),i=c.useRef(null),l=Wt(n),d=c.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return c.useEffect(()=>()=>d(),[d]),Te(()=>{var p;const u=l().find(f=>f.ref.current===document.activeElement);(p=u==null?void 0:u.ref.current)==null||p.scrollIntoView({block:"nearest"})},[l]),s.jsx(q.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:W(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:W(o.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:W(o.onPointerLeave,()=>{d()})})}),Va="SelectSeparator",pr=c.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(q.div,{"aria-hidden":!0,...r,ref:t})});pr.displayName=Va;var xn="SelectArrow",$a=c.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Kt(n),a=$e(xn,n),i=He(xn,n);return a.open&&i.position==="popper"?s.jsx(Uo,{...o,...r,ref:t}):null});$a.displayName=xn;function hr(e){return e===""||e===void 0}var mr=c.forwardRef((e,t)=>{const{value:n,...r}=e,o=c.useRef(null),a=pe(t,o),i=$s(n);return c.useEffect(()=>{const l=o.current,d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==n&&p){const f=new Event("change",{bubbles:!0});p.call(l,n),l.dispatchEvent(f)}},[i,n]),s.jsx(Fo,{asChild:!0,children:s.jsx("select",{...r,ref:a,defaultValue:n})})});mr.displayName="BubbleSelect";function xr(e){const t=$o(e),n=c.useRef(""),r=c.useRef(0),o=c.useCallback(i=>{const l=n.current+i;t(l),function d(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),a=c.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function gr(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=Ha(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==n));const d=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function Ha(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Wa=Hs,vr=Ks,Ka=qs,Ua=Gs,qa=Xs,br=Ys,Ga=er,Xa=nr,yr=rr,wr=ar,Ya=ir,Za=cr,Cr=dr,jr=ur,Nr=pr;const Sr=Wa,Rr=Xa,_r=Ka,zn=N.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(vr,{ref:r,className:J("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(Ua,{asChild:!0,children:s.jsx(ta,{className:"size-4 opacity-50"})})]}));zn.displayName=vr.displayName;const Ir=N.forwardRef(({className:e,...t},n)=>s.jsx(Cr,{ref:n,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(na,{})}));Ir.displayName=Cr.displayName;const Dr=N.forwardRef(({className:e,...t},n)=>s.jsx(jr,{ref:n,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ks,{})}));Dr.displayName=jr.displayName;const Bn=N.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>s.jsx(qa,{children:s.jsxs(br,{ref:o,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(Ir,{}),s.jsx(Ga,{className:J("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Dr,{})]})}));Bn.displayName=br.displayName;const Ja=N.forwardRef(({className:e,...t},n)=>s.jsx(yr,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",e),...t}));Ja.displayName=yr.displayName;const Fe=N.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(wr,{ref:r,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(Za,{children:s.jsx(Ds,{className:"size-4"})})}),s.jsx(Ya,{children:t})]}));Fe.displayName=wr.displayName;const Qa=N.forwardRef(({className:e,...t},n)=>s.jsx(Nr,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));Qa.displayName=Nr.displayName;var Fn="Collapsible",[ei,kr]=$t(Fn),[ti,Vn]=ei(Fn),Er=c.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:a,onOpenChange:i,...l}=e,[d=!1,u]=ot({prop:r,defaultProp:o,onChange:i});return s.jsx(ti,{scope:n,disabled:a,contentId:jt(),open:d,onOpenToggle:c.useCallback(()=>u(p=>!p),[u]),children:s.jsx(q.div,{"data-state":Hn(d),"data-disabled":a?"":void 0,...l,ref:t})})});Er.displayName=Fn;var Tr="CollapsibleTrigger",Mr=c.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=Vn(Tr,n);return s.jsx(q.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Hn(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:W(e.onClick,o.onOpenToggle)})});Mr.displayName=Tr;var $n="CollapsibleContent",Ar=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Vn($n,e.__scopeCollapsible);return s.jsx(Rs,{present:n||o.open,children:({present:a})=>s.jsx(ni,{...r,ref:t,present:a})})});Ar.displayName=$n;var ni=c.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:o,...a}=e,i=Vn($n,n),[l,d]=c.useState(r),u=c.useRef(null),p=pe(t,u),f=c.useRef(0),h=f.current,v=c.useRef(0),w=v.current,m=i.open||l,g=c.useRef(m),y=c.useRef(void 0);return c.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),Te(()=>{const x=u.current;if(x){y.current=y.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const b=x.getBoundingClientRect();f.current=b.height,v.current=b.width,g.current||(x.style.transitionDuration=y.current.transitionDuration,x.style.animationName=y.current.animationName),d(r)}},[i.open,r]),s.jsx(q.div,{"data-state":Hn(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!m,...a,ref:p,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:m&&o})});function Hn(e){return e?"open":"closed"}var si=Er,ri=Mr,oi=Ar,Me="Accordion",ai=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Wn,ii,li]=Is(Me),[Ut,kc]=$t(Me,[li,kr]),Kn=kr(),Pr=N.forwardRef((e,t)=>{const{type:n,...r}=e,o=r,a=r;return s.jsx(Wn.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?s.jsx(fi,{...a,ref:t}):s.jsx(ui,{...o,ref:t})})});Pr.displayName=Me;var[Or,ci]=Ut(Me),[Lr,di]=Ut(Me,{collapsible:!1}),ui=N.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},collapsible:a=!1,...i}=e,[l,d]=ot({prop:n,defaultProp:r,onChange:o});return s.jsx(Or,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:d,onItemClose:N.useCallback(()=>a&&d(""),[a,d]),children:s.jsx(Lr,{scope:e.__scopeAccordion,collapsible:a,children:s.jsx(zr,{...i,ref:t})})})}),fi=N.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...a}=e,[i=[],l]=ot({prop:n,defaultProp:r,onChange:o}),d=N.useCallback(p=>l((f=[])=>[...f,p]),[l]),u=N.useCallback(p=>l((f=[])=>f.filter(h=>h!==p)),[l]);return s.jsx(Or,{scope:e.__scopeAccordion,value:i,onItemOpen:d,onItemClose:u,children:s.jsx(Lr,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(zr,{...a,ref:t})})})}),[pi,qt]=Ut(Me),zr=N.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:o,orientation:a="vertical",...i}=e,l=N.useRef(null),d=pe(l,t),u=ii(n),f=_s(o)==="ltr",h=W(e.onKeyDown,v=>{var _;if(!ai.includes(v.key))return;const w=v.target,m=u().filter(T=>{var A;return!((A=T.ref.current)!=null&&A.disabled)}),g=m.findIndex(T=>T.ref.current===w),y=m.length;if(g===-1)return;v.preventDefault();let x=g;const b=0,C=y-1,j=()=>{x=g+1,x>C&&(x=b)},I=()=>{x=g-1,x<b&&(x=C)};switch(v.key){case"Home":x=b;break;case"End":x=C;break;case"ArrowRight":a==="horizontal"&&(f?j():I());break;case"ArrowDown":a==="vertical"&&j();break;case"ArrowLeft":a==="horizontal"&&(f?I():j());break;case"ArrowUp":a==="vertical"&&I();break}const R=x%y;(_=m[R].ref.current)==null||_.focus()});return s.jsx(pi,{scope:n,disabled:r,direction:o,orientation:a,children:s.jsx(Wn.Slot,{scope:n,children:s.jsx(q.div,{...i,"data-orientation":a,ref:d,onKeyDown:r?void 0:h})})})}),Lt="AccordionItem",[hi,Un]=Ut(Lt),Br=N.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...o}=e,a=qt(Lt,n),i=ci(Lt,n),l=Kn(n),d=jt(),u=r&&i.value.includes(r)||!1,p=a.disabled||e.disabled;return s.jsx(hi,{scope:n,open:u,disabled:p,triggerId:d,children:s.jsx(si,{"data-orientation":a.orientation,"data-state":Kr(u),...l,...o,ref:t,disabled:p,open:u,onOpenChange:f=>{f?i.onItemOpen(r):i.onItemClose(r)}})})});Br.displayName=Lt;var Fr="AccordionHeader",Vr=N.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=qt(Me,n),a=Un(Fr,n);return s.jsx(q.h3,{"data-orientation":o.orientation,"data-state":Kr(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:t})});Vr.displayName=Fr;var gn="AccordionTrigger",$r=N.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=qt(Me,n),a=Un(gn,n),i=di(gn,n),l=Kn(n);return s.jsx(Wn.ItemSlot,{scope:n,children:s.jsx(ri,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":o.orientation,id:a.triggerId,...l,...r,ref:t})})});$r.displayName=gn;var Hr="AccordionContent",Wr=N.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=qt(Me,n),a=Un(Hr,n),i=Kn(n);return s.jsx(oi,{role:"region","aria-labelledby":a.triggerId,"data-orientation":o.orientation,...i,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Wr.displayName=Hr;function Kr(e){return e?"open":"closed"}var mi=Pr,xi=Br,gi=Vr,Ur=$r,qr=Wr;const Gt=mi,Ue=N.forwardRef(({className:e,...t},n)=>s.jsx(xi,{ref:n,className:J("border-b",e),...t}));Ue.displayName="AccordionItem";const qe=N.forwardRef(({className:e,children:t,iconPosition:n="left",...r},o)=>{const a=()=>s.jsx(ks,{className:"size-4 shrink-0 text-muted-foreground transition-transform duration-200"});return s.jsx(gi,{className:"flex",children:s.jsx(Ur,{ref:o,className:J("flex flex-1 items-center py-4 gap-x-2 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180 justify-between",e),...r,children:r.asChild?s.jsxs("div",{className:"flex",children:[n==="left"?a():null,t,n==="right"?a():null]}):s.jsxs(s.Fragment,{children:[n==="left"?a():null,t,n==="right"?a():null]})})})});qe.displayName=Ur.displayName;const Ge=N.forwardRef(({className:e,children:t,...n},r)=>s.jsx(qr,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:s.jsx("div",{className:J("pb-4 pt-0",e),children:t})}));Ge.displayName=qr.displayName;const be=N.forwardRef((e,t)=>s.jsx(U,{ref:t,variant:"ghost",className:"size-8 p-2 text-slate-500 hover:cursor-pointer hover:bg-primary-foreground hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",asChild:!0,...e}));be.displayName="ListItemHeaderButton";function vi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Xt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ct(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function qn(e){return"nodeType"in e}function oe(e){var t,n;return e?ct(e)?e:qn(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Gn(e){const{Document:t}=oe(e);return e instanceof t}function Rt(e){return ct(e)?!1:e instanceof oe(e).HTMLElement}function Gr(e){return e instanceof oe(e).SVGElement}function dt(e){return e?ct(e)?e.document:qn(e)?Gn(e)?e:Rt(e)||Gr(e)?e.ownerDocument:document:document:document}const _e=Xt?c.useLayoutEffect:c.useEffect;function Xn(e){const t=c.useRef(e);return _e(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function bi(){const e=c.useRef(null),t=c.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function wt(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return _e(()=>{n.current!==e&&(n.current=e)},t),n}function _t(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function zt(e){const t=Xn(e),n=c.useRef(null),r=c.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function vn(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let rn={};function It(e,t){return c.useMemo(()=>{if(t)return t;const n=rn[e]==null?0:rn[e]+1;return rn[e]=n,e+"-"+n},[e,t])}function Xr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((a,i)=>{const l=Object.entries(i);for(const[d,u]of l){const p=a[d];p!=null&&(a[d]=p+e*u)}return a},{...t})}}const rt=Xr(1),Bt=Xr(-1);function yi(e){return"clientX"in e&&"clientY"in e}function Yn(e){if(!e)return!1;const{KeyboardEvent:t}=oe(e.target);return t&&e instanceof t}function wi(e){if(!e)return!1;const{TouchEvent:t}=oe(e.target);return t&&e instanceof t}function bn(e){if(wi(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return yi(e)?{x:e.clientX,y:e.clientY}:null}const it=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[it.Translate.toString(e),it.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ps="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ci(e){return e.matches(ps)?e:e.querySelector(ps)}const ji={display:"none"};function Ni(e){let{id:t,value:n}=e;return N.createElement("div",{id:t,style:ji},n)}function Si(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return N.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function Ri(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Yr=c.createContext(null);function _i(e){const t=c.useContext(Yr);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Ii(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:o,event:a}=r;e.forEach(i=>{var l;return(l=i[o])==null?void 0:l.call(i,a)})},[e]),t]}const Di={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ki={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ei(e){let{announcements:t=ki,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Di}=e;const{announce:a,announcement:i}=Ri(),l=It("DndLiveRegion"),[d,u]=c.useState(!1);if(c.useEffect(()=>{u(!0)},[]),_i(c.useMemo(()=>({onDragStart(f){let{active:h}=f;a(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:v}=f;t.onDragMove&&a(t.onDragMove({active:h,over:v}))},onDragOver(f){let{active:h,over:v}=f;a(t.onDragOver({active:h,over:v}))},onDragEnd(f){let{active:h,over:v}=f;a(t.onDragEnd({active:h,over:v}))},onDragCancel(f){let{active:h,over:v}=f;a(t.onDragCancel({active:h,over:v}))}}),[a,t])),!d)return null;const p=N.createElement(N.Fragment,null,N.createElement(Ni,{id:r,value:o.draggable}),N.createElement(Si,{id:l,announcement:i}));return n?Ke.createPortal(p,n):p}var K;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(K||(K={}));function Ft(){}function Zr(e,t){return c.useMemo(()=>({sensor:e,options:{}}),[e,t])}function Jr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ye=Object.freeze({x:0,y:0});function Ti(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Mi(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Ai(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Pi(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function hs(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Qr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=hs(t,t.left,t.top),a=[];for(const i of r){const{id:l}=i,d=n.get(l);if(d){const u=Ti(hs(d),o);a.push({id:l,data:{droppableContainer:i,value:u}})}}return a.sort(Mi)};function Oi(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),i=o-r,l=a-n;if(r<o&&n<a){const d=t.width*t.height,u=e.width*e.height,p=i*l,f=p/(d+u-p);return Number(f.toFixed(4))}return 0}const Li=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const a of r){const{id:i}=a,l=n.get(i);if(l){const d=Oi(l,t);d>0&&o.push({id:i,data:{droppableContainer:a,value:d}})}}return o.sort(Ai)};function zi(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function eo(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ye}function Bi(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return o.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...n})}}const Fi=Bi(1);function Vi(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function $i(e,t,n){const r=Vi(t);if(!r)return e;const{scaleX:o,scaleY:a,x:i,y:l}=r,d=e.left-i-(1-o)*parseFloat(n),u=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),p=o?e.width/o:e.width,f=a?e.height/a:e.height;return{width:p,height:f,top:u,right:d+p,bottom:u+f,left:d}}const Hi={ignoreTransform:!1};function ut(e,t){t===void 0&&(t=Hi);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:p}=oe(e).getComputedStyle(e);u&&(n=$i(n,u,p))}const{top:r,left:o,width:a,height:i,bottom:l,right:d}=n;return{top:r,left:o,width:a,height:i,bottom:l,right:d}}function ms(e){return ut(e,{ignoreTransform:!0})}function Wi(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Ki(e,t){return t===void 0&&(t=oe(e).getComputedStyle(e)),t.position==="fixed"}function Ui(e,t){t===void 0&&(t=oe(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const a=t[o];return typeof a=="string"?n.test(a):!1})}function Zn(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(Gn(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Rt(o)||Gr(o)||n.includes(o))return n;const a=oe(e).getComputedStyle(o);return o!==e&&Ui(o,a)&&n.push(o),Ki(o,a)?n:r(o.parentNode)}return e?r(e):n}function to(e){const[t]=Zn(e,1);return t??null}function on(e){return!Xt||!e?null:ct(e)?e:qn(e)?Gn(e)||e===dt(e).scrollingElement?window:Rt(e)?e:null:null}function no(e){return ct(e)?e.scrollX:e.scrollLeft}function so(e){return ct(e)?e.scrollY:e.scrollTop}function yn(e){return{x:no(e),y:so(e)}}var Z;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Z||(Z={}));function ro(e){return!Xt||!e?!1:e===document.scrollingElement}function oo(e){const t={x:0,y:0},n=ro(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:o,isLeft:a,isBottom:i,isRight:l,maxScroll:r,minScroll:t}}const qi={x:.2,y:.2};function Gi(e,t,n,r,o){let{top:a,left:i,right:l,bottom:d}=n;r===void 0&&(r=10),o===void 0&&(o=qi);const{isTop:u,isBottom:p,isLeft:f,isRight:h}=oo(e),v={x:0,y:0},w={x:0,y:0},m={height:t.height*o.y,width:t.width*o.x};return!u&&a<=t.top+m.height?(v.y=Z.Backward,w.y=r*Math.abs((t.top+m.height-a)/m.height)):!p&&d>=t.bottom-m.height&&(v.y=Z.Forward,w.y=r*Math.abs((t.bottom-m.height-d)/m.height)),!h&&l>=t.right-m.width?(v.x=Z.Forward,w.x=r*Math.abs((t.right-m.width-l)/m.width)):!f&&i<=t.left+m.width&&(v.x=Z.Backward,w.x=r*Math.abs((t.left+m.width-i)/m.width)),{direction:v,speed:w}}function Xi(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:i}=window;return{top:0,left:0,right:a,bottom:i,width:a,height:i}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function ao(e){return e.reduce((t,n)=>rt(t,yn(n)),ye)}function Yi(e){return e.reduce((t,n)=>t+no(n),0)}function Zi(e){return e.reduce((t,n)=>t+so(n),0)}function Ji(e,t){if(t===void 0&&(t=ut),!e)return;const{top:n,left:r,bottom:o,right:a}=t(e);to(e)&&(o<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Qi=[["x",["left","right"],Yi],["y",["top","bottom"],Zi]];class Jn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Zn(n),o=ao(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,i,l]of Qi)for(const d of i)Object.defineProperty(this,d,{get:()=>{const u=l(r),p=o[a]-u;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class gt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function el(e){const{EventTarget:t}=oe(e);return e instanceof t?e:dt(e)}function an(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var xe;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(xe||(xe={}));function xs(e){e.preventDefault()}function tl(e){e.stopPropagation()}var L;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(L||(L={}));const io={start:[L.Space,L.Enter],cancel:[L.Esc],end:[L.Space,L.Enter,L.Tab]},nl=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case L.Right:return{...n,x:n.x+25};case L.Left:return{...n,x:n.x-25};case L.Down:return{...n,y:n.y+25};case L.Up:return{...n,y:n.y-25}}};class lo{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new gt(dt(n)),this.windowListeners=new gt(oe(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(xe.Resize,this.handleCancel),this.windowListeners.add(xe.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(xe.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Ji(r),n(ye)}handleKeyDown(t){if(Yn(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:a=io,coordinateGetter:i=nl,scrollBehavior:l="smooth"}=o,{code:d}=t;if(a.end.includes(d)){this.handleEnd(t);return}if(a.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:u}=r.current,p=u?{x:u.left,y:u.top}:ye;this.referenceCoordinates||(this.referenceCoordinates=p);const f=i(t,{active:n,context:r.current,currentCoordinates:p});if(f){const h=Bt(f,p),v={x:0,y:0},{scrollableAncestors:w}=r.current;for(const m of w){const g=t.code,{isTop:y,isRight:x,isLeft:b,isBottom:C,maxScroll:j,minScroll:I}=oo(m),R=Xi(m),_={x:Math.min(g===L.Right?R.right-R.width/2:R.right,Math.max(g===L.Right?R.left:R.left+R.width/2,f.x)),y:Math.min(g===L.Down?R.bottom-R.height/2:R.bottom,Math.max(g===L.Down?R.top:R.top+R.height/2,f.y))},T=g===L.Right&&!x||g===L.Left&&!b,A=g===L.Down&&!C||g===L.Up&&!y;if(T&&_.x!==f.x){const E=m.scrollLeft+h.x,F=g===L.Right&&E<=j.x||g===L.Left&&E>=I.x;if(F&&!h.y){m.scrollTo({left:E,behavior:l});return}F?v.x=m.scrollLeft-E:v.x=g===L.Right?m.scrollLeft-j.x:m.scrollLeft-I.x,v.x&&m.scrollBy({left:-v.x,behavior:l});break}else if(A&&_.y!==f.y){const E=m.scrollTop+h.y,F=g===L.Down&&E<=j.y||g===L.Up&&E>=I.y;if(F&&!h.x){m.scrollTo({top:E,behavior:l});return}F?v.y=m.scrollTop-E:v.y=g===L.Down?m.scrollTop-j.y:m.scrollTop-I.y,v.y&&m.scrollBy({top:-v.y,behavior:l});break}}this.handleMove(t,rt(Bt(f,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}lo.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=io,onActivation:o}=t,{active:a}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function gs(e){return!!(e&&"distance"in e)}function vs(e){return!!(e&&"delay"in e)}class Qn{constructor(t,n,r){var o;r===void 0&&(r=el(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:i}=a;this.props=t,this.events=n,this.document=dt(i),this.documentListeners=new gt(this.document),this.listeners=new gt(r),this.windowListeners=new gt(oe(i)),this.initialCoordinates=(o=bn(a))!=null?o:ye,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(xe.Resize,this.handleCancel),this.windowListeners.add(xe.DragStart,xs),this.windowListeners.add(xe.VisibilityChange,this.handleCancel),this.windowListeners.add(xe.ContextMenu,xs),this.documentListeners.add(xe.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(vs(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(gs(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(xe.Click,tl,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(xe.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:a}=this,{onMove:i,options:{activationConstraint:l}}=a;if(!o)return;const d=(n=bn(t))!=null?n:ye,u=Bt(o,d);if(!r&&l){if(gs(l)){if(l.tolerance!=null&&an(u,l.tolerance))return this.handleCancel();if(an(u,l.distance))return this.handleStart()}if(vs(l)&&an(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),i(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===L.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const sl={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Yt extends Qn{constructor(t){const{event:n}=t,r=dt(n.target);super(t,sl,r)}}Yt.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const rl={move:{name:"mousemove"},end:{name:"mouseup"}};var wn;(function(e){e[e.RightClick=2]="RightClick"})(wn||(wn={}));class ol extends Qn{constructor(t){super(t,rl,dt(t.event.target))}}ol.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===wn.RightClick?!1:(r==null||r({event:n}),!0)}}];const ln={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class al extends Qn{constructor(t){super(t,ln)}static setup(){return window.addEventListener(ln.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ln.move.name,t)};function t(){}}}al.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var vt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(vt||(vt={}));var Vt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Vt||(Vt={}));function il(e){let{acceleration:t,activator:n=vt.Pointer,canScroll:r,draggingRect:o,enabled:a,interval:i=5,order:l=Vt.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:p,delta:f,threshold:h}=e;const v=cl({delta:f,disabled:!a}),[w,m]=bi(),g=c.useRef({x:0,y:0}),y=c.useRef({x:0,y:0}),x=c.useMemo(()=>{switch(n){case vt.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case vt.DraggableRect:return o}},[n,o,d]),b=c.useRef(null),C=c.useCallback(()=>{const I=b.current;if(!I)return;const R=g.current.x*y.current.x,_=g.current.y*y.current.y;I.scrollBy(R,_)},[]),j=c.useMemo(()=>l===Vt.TreeOrder?[...u].reverse():u,[l,u]);c.useEffect(()=>{if(!a||!u.length||!x){m();return}for(const I of j){if((r==null?void 0:r(I))===!1)continue;const R=u.indexOf(I),_=p[R];if(!_)continue;const{direction:T,speed:A}=Gi(I,_,x,t,h);for(const E of["x","y"])v[E][T[E]]||(A[E]=0,T[E]=0);if(A.x>0||A.y>0){m(),b.current=I,w(C,i),g.current=A,y.current=T;return}}g.current={x:0,y:0},y.current={x:0,y:0},m()},[t,C,r,m,a,i,JSON.stringify(x),JSON.stringify(v),w,u,j,p,JSON.stringify(h)])}const ll={x:{[Z.Backward]:!1,[Z.Forward]:!1},y:{[Z.Backward]:!1,[Z.Forward]:!1}};function cl(e){let{delta:t,disabled:n}=e;const r=vn(t);return _t(o=>{if(n||!r||!o)return ll;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Z.Backward]:o.x[Z.Backward]||a.x===-1,[Z.Forward]:o.x[Z.Forward]||a.x===1},y:{[Z.Backward]:o.y[Z.Backward]||a.y===-1,[Z.Forward]:o.y[Z.Forward]||a.y===1}}},[n,t,r])}function dl(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return _t(o=>{var a;return t==null?null:(a=r??o)!=null?a:null},[r,t])}function ul(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,a=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...a]},[]),[e,t])}var Ct;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ct||(Ct={}));var Cn;(function(e){e.Optimized="optimized"})(Cn||(Cn={}));const bs=new Map;function fl(e,t){let{dragging:n,dependencies:r,config:o}=t;const[a,i]=c.useState(null),{frequency:l,measure:d,strategy:u}=o,p=c.useRef(e),f=g(),h=wt(f),v=c.useCallback(function(y){y===void 0&&(y=[]),!h.current&&i(x=>x===null?y:x.concat(y.filter(b=>!x.includes(b))))},[h]),w=c.useRef(null),m=_t(y=>{if(f&&!n)return bs;if(!y||y===bs||p.current!==e||a!=null){const x=new Map;for(let b of e){if(!b)continue;if(a&&a.length>0&&!a.includes(b.id)&&b.rect.current){x.set(b.id,b.rect.current);continue}const C=b.node.current,j=C?new Jn(d(C),C):null;b.rect.current=j,j&&x.set(b.id,j)}return x}return y},[e,a,n,f,d]);return c.useEffect(()=>{p.current=e},[e]),c.useEffect(()=>{f||v()},[n,f]),c.useEffect(()=>{a&&a.length>0&&i(null)},[JSON.stringify(a)]),c.useEffect(()=>{f||typeof l!="number"||w.current!==null||(w.current=setTimeout(()=>{v(),w.current=null},l))},[l,f,v,...r]),{droppableRects:m,measureDroppableContainers:v,measuringScheduled:a!=null};function g(){switch(u){case Ct.Always:return!1;case Ct.BeforeDragging:return n;default:return!n}}}function co(e,t){return _t(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function pl(e,t){return co(e,t)}function hl(e){let{callback:t,disabled:n}=e;const r=Xn(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return c.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Zt(e){let{callback:t,disabled:n}=e;const r=Xn(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return c.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function ml(e){return new Jn(ut(e),e)}function ys(e,t,n){t===void 0&&(t=ml);const[r,o]=c.useState(null);function a(){o(d=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=d??n)!=null?u:null}const p=t(e);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const i=hl({callback(d){if(e)for(const u of d){const{type:p,target:f}=u;if(p==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),l=Zt({callback:a});return _e(()=>{a(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),r}function xl(e){const t=co(e);return eo(e,t)}const ws=[];function gl(e){const t=c.useRef(e),n=_t(r=>e?r&&r!==ws&&e&&t.current&&e.parentNode===t.current.parentNode?r:Zn(e):ws,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function vl(e){const[t,n]=c.useState(null),r=c.useRef(e),o=c.useCallback(a=>{const i=on(a.target);i&&n(l=>l?(l.set(i,yn(i)),new Map(l)):null)},[]);return c.useEffect(()=>{const a=r.current;if(e!==a){i(a);const l=e.map(d=>{const u=on(d);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,yn(u)]):null}).filter(d=>d!=null);n(l.length?new Map(l):null),r.current=e}return()=>{i(e),i(a)};function i(l){l.forEach(d=>{const u=on(d);u==null||u.removeEventListener("scroll",o)})}},[o,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,i)=>rt(a,i),ye):ao(e):ye,[e,t])}function Cs(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==ye;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Bt(e,n.current):ye}function bl(e){c.useEffect(()=>{if(!Xt)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function yl(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:a}=r;return n[o]=i=>{a(i,t)},n},{}),[e,t])}function uo(e){return c.useMemo(()=>e?Wi(e):null,[e])}const js=[];function wl(e,t){t===void 0&&(t=ut);const[n]=e,r=uo(n?oe(n):null),[o,a]=c.useState(js);function i(){a(()=>e.length?e.map(d=>ro(d)?r:new Jn(t(d),d)):js)}const l=Zt({callback:i});return _e(()=>{l==null||l.disconnect(),i(),e.forEach(d=>l==null?void 0:l.observe(d))},[e]),o}function Cl(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Rt(t)?t:e}function jl(e){let{measure:t}=e;const[n,r]=c.useState(null),o=c.useCallback(u=>{for(const{target:p}of u)if(Rt(p)){r(f=>{const h=t(p);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),a=Zt({callback:o}),i=c.useCallback(u=>{const p=Cl(u);a==null||a.disconnect(),p&&(a==null||a.observe(p)),r(p?t(p):null)},[t,a]),[l,d]=zt(i);return c.useMemo(()=>({nodeRef:l,rect:n,setRef:d}),[n,l,d])}const Nl=[{sensor:Yt,options:{}},{sensor:lo,options:{}}],Sl={current:{}},Pt={draggable:{measure:ms},droppable:{measure:ms,strategy:Ct.WhileDragging,frequency:Cn.Optimized},dragOverlay:{measure:ut}};class bt extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Rl={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ft},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Pt,measureDroppableContainers:Ft,windowRect:null,measuringScheduled:!1},_l={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ft,draggableNodes:new Map,over:null,measureDroppableContainers:Ft},Jt=c.createContext(_l),fo=c.createContext(Rl);function Il(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bt}}}function Dl(e,t){switch(t.type){case K.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case K.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case K.DragEnd:case K.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case K.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new bt(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case K.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new bt(e.droppable.containers);return i.set(n,{...a,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case K.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const a=new bt(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function kl(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=c.useContext(Jt),a=vn(r),i=vn(n==null?void 0:n.id);return c.useEffect(()=>{if(!t&&!r&&a&&i!=null){if(!Yn(a)||document.activeElement===a.target)return;const l=o.get(i);if(!l)return;const{activatorNode:d,node:u}=l;if(!d.current&&!u.current)return;requestAnimationFrame(()=>{for(const p of[d.current,u.current]){if(!p)continue;const f=Ci(p);if(f){f.focus();break}}})}},[r,t,o,i,a]),null}function El(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,a)=>a({transform:o,...r}),n):n}function Tl(e){return c.useMemo(()=>({draggable:{...Pt.draggable,...e==null?void 0:e.draggable},droppable:{...Pt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Pt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Ml(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const a=c.useRef(!1),{x:i,y:l}=typeof o=="boolean"?{x:o,y:o}:o;_e(()=>{if(!i&&!l||!t){a.current=!1;return}if(a.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const p=n(u),f=eo(p,r);if(i||(f.x=0),l||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=to(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,i,l,r,n])}const po=c.createContext({...ye,scaleX:1,scaleY:1});var Be;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Be||(Be={}));const ho=c.memo(function(t){var n,r,o,a;let{id:i,accessibility:l,autoScroll:d=!0,children:u,sensors:p=Nl,collisionDetection:f=Li,measuring:h,modifiers:v,...w}=t;const m=c.useReducer(Dl,void 0,Il),[g,y]=m,[x,b]=Ii(),[C,j]=c.useState(Be.Uninitialized),I=C===Be.Initialized,{draggable:{active:R,nodes:_,translate:T},droppable:{containers:A}}=g,E=R!=null?_.get(R):null,F=c.useRef({initial:null,translated:null}),z=c.useMemo(()=>{var te;return R!=null?{id:R,data:(te=E==null?void 0:E.data)!=null?te:Sl,rect:F}:null},[R,E]),k=c.useRef(null),[V,$]=c.useState(null),[B,ne]=c.useState(null),G=wt(w,Object.values(w)),De=It("DndDescribedBy",i),ke=c.useMemo(()=>A.getEnabled(),[A]),X=Tl(h),{droppableRects:ae,measureDroppableContainers:se,measuringScheduled:Ce}=fl(ke,{dragging:I,dependencies:[T.x,T.y],config:X.droppable}),Y=dl(_,R),D=c.useMemo(()=>B?bn(B):null,[B]),P=zo(),H=pl(Y,X.draggable.measure);Ml({activeNode:R!=null?_.get(R):null,config:P.layoutShiftCompensation,initialRect:H,measure:X.draggable.measure});const S=ys(Y,X.draggable.measure,H),O=ys(Y?Y.parentElement:null),M=c.useRef({activatorEvent:null,active:null,activeNode:Y,collisionRect:null,collisions:null,droppableRects:ae,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),re=A.getNodeFor((n=M.current.over)==null?void 0:n.id),Q=jl({measure:X.dragOverlay.measure}),je=(r=Q.nodeRef.current)!=null?r:Y,Ne=I?(o=Q.rect)!=null?o:S:null,Je=!!(Q.nodeRef.current&&Q.rect),ss=xl(Je?null:S),tn=uo(je?oe(je):null),Ae=gl(I?re??Y:null),kt=wl(Ae),Et=El(v,{transform:{x:T.x-ss.x,y:T.y-ss.y,scaleX:1,scaleY:1},activatorEvent:B,active:z,activeNodeRect:S,containerNodeRect:O,draggingNodeRect:Ne,over:M.current.over,overlayNodeRect:Q.rect,scrollableAncestors:Ae,scrollableAncestorRects:kt,windowRect:tn}),rs=D?rt(D,T):null,os=vl(Ae),Eo=Cs(os),To=Cs(os,[S]),Qe=rt(Et,Eo),et=Ne?Fi(Ne,Et):null,ft=z&&et?f({active:z,collisionRect:et,droppableRects:ae,droppableContainers:ke,pointerCoordinates:rs}):null,as=Pi(ft,"id"),[Pe,is]=c.useState(null),Mo=Je?Et:rt(Et,To),Ao=zi(Mo,(a=Pe==null?void 0:Pe.rect)!=null?a:null,S),nn=c.useRef(null),ls=c.useCallback((te,ie)=>{let{sensor:le,options:Oe}=ie;if(k.current==null)return;const me=_.get(k.current);if(!me)return;const ce=te.nativeEvent,Se=new le({active:k.current,activeNode:me,event:ce,options:Oe,context:M,onAbort(ee){if(!_.get(ee))return;const{onDragAbort:Re}=G.current,Ee={id:ee};Re==null||Re(Ee),x({type:"onDragAbort",event:Ee})},onPending(ee,Le,Re,Ee){if(!_.get(ee))return;const{onDragPending:ht}=G.current,ze={id:ee,constraint:Le,initialCoordinates:Re,offset:Ee};ht==null||ht(ze),x({type:"onDragPending",event:ze})},onStart(ee){const Le=k.current;if(Le==null)return;const Re=_.get(Le);if(!Re)return;const{onDragStart:Ee}=G.current,pt={activatorEvent:ce,active:{id:Le,data:Re.data,rect:F}};Ke.unstable_batchedUpdates(()=>{Ee==null||Ee(pt),j(Be.Initializing),y({type:K.DragStart,initialCoordinates:ee,active:Le}),x({type:"onDragStart",event:pt}),$(nn.current),ne(ce)})},onMove(ee){y({type:K.DragMove,coordinates:ee})},onEnd:tt(K.DragEnd),onCancel:tt(K.DragCancel)});nn.current=Se;function tt(ee){return async function(){const{active:Re,collisions:Ee,over:pt,scrollAdjustedTranslate:ht}=M.current;let ze=null;if(Re&&ht){const{cancelDrop:mt}=G.current;ze={activatorEvent:ce,active:Re,collisions:Ee,delta:ht,over:pt},ee===K.DragEnd&&typeof mt=="function"&&await Promise.resolve(mt(ze))&&(ee=K.DragCancel)}k.current=null,Ke.unstable_batchedUpdates(()=>{y({type:ee}),j(Be.Uninitialized),is(null),$(null),ne(null),nn.current=null;const mt=ee===K.DragEnd?"onDragEnd":"onDragCancel";if(ze){const sn=G.current[mt];sn==null||sn(ze),x({type:mt,event:ze})}})}}},[_]),Po=c.useCallback((te,ie)=>(le,Oe)=>{const me=le.nativeEvent,ce=_.get(Oe);if(k.current!==null||!ce||me.dndKit||me.defaultPrevented)return;const Se={active:ce};te(le,ie.options,Se)===!0&&(me.dndKit={capturedBy:ie.sensor},k.current=Oe,ls(le,ie))},[_,ls]),cs=ul(p,Po);bl(p),_e(()=>{S&&C===Be.Initializing&&j(Be.Initialized)},[S,C]),c.useEffect(()=>{const{onDragMove:te}=G.current,{active:ie,activatorEvent:le,collisions:Oe,over:me}=M.current;if(!ie||!le)return;const ce={active:ie,activatorEvent:le,collisions:Oe,delta:{x:Qe.x,y:Qe.y},over:me};Ke.unstable_batchedUpdates(()=>{te==null||te(ce),x({type:"onDragMove",event:ce})})},[Qe.x,Qe.y]),c.useEffect(()=>{const{active:te,activatorEvent:ie,collisions:le,droppableContainers:Oe,scrollAdjustedTranslate:me}=M.current;if(!te||k.current==null||!ie||!me)return;const{onDragOver:ce}=G.current,Se=Oe.get(as),tt=Se&&Se.rect.current?{id:Se.id,rect:Se.rect.current,data:Se.data,disabled:Se.disabled}:null,ee={active:te,activatorEvent:ie,collisions:le,delta:{x:me.x,y:me.y},over:tt};Ke.unstable_batchedUpdates(()=>{is(tt),ce==null||ce(ee),x({type:"onDragOver",event:ee})})},[as]),_e(()=>{M.current={activatorEvent:B,active:z,activeNode:Y,collisionRect:et,collisions:ft,droppableRects:ae,draggableNodes:_,draggingNode:je,draggingNodeRect:Ne,droppableContainers:A,over:Pe,scrollableAncestors:Ae,scrollAdjustedTranslate:Qe},F.current={initial:Ne,translated:et}},[z,Y,ft,et,_,je,Ne,ae,A,Pe,Ae,Qe]),il({...P,delta:T,draggingRect:et,pointerCoordinates:rs,scrollableAncestors:Ae,scrollableAncestorRects:kt});const Oo=c.useMemo(()=>({active:z,activeNode:Y,activeNodeRect:S,activatorEvent:B,collisions:ft,containerNodeRect:O,dragOverlay:Q,draggableNodes:_,droppableContainers:A,droppableRects:ae,over:Pe,measureDroppableContainers:se,scrollableAncestors:Ae,scrollableAncestorRects:kt,measuringConfiguration:X,measuringScheduled:Ce,windowRect:tn}),[z,Y,S,B,ft,O,Q,_,A,ae,Pe,se,Ae,kt,X,Ce,tn]),Lo=c.useMemo(()=>({activatorEvent:B,activators:cs,active:z,activeNodeRect:S,ariaDescribedById:{draggable:De},dispatch:y,draggableNodes:_,over:Pe,measureDroppableContainers:se}),[B,cs,z,S,y,De,_,Pe,se]);return N.createElement(Yr.Provider,{value:b},N.createElement(Jt.Provider,{value:Lo},N.createElement(fo.Provider,{value:Oo},N.createElement(po.Provider,{value:Ao},u)),N.createElement(kl,{disabled:(l==null?void 0:l.restoreFocus)===!1})),N.createElement(Ei,{...l,hiddenTextDescribedById:De}));function zo(){const te=(V==null?void 0:V.autoScrollEnabled)===!1,ie=typeof d=="object"?d.enabled===!1:d===!1,le=I&&!te&&!ie;return typeof d=="object"?{...d,enabled:le}:{enabled:le}}}),Al=c.createContext(null),Ns="button",Pl="Draggable";function Ol(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const a=It(Pl),{activators:i,activatorEvent:l,active:d,activeNodeRect:u,ariaDescribedById:p,draggableNodes:f,over:h}=c.useContext(Jt),{role:v=Ns,roleDescription:w="draggable",tabIndex:m=0}=o??{},g=(d==null?void 0:d.id)===t,y=c.useContext(g?po:Al),[x,b]=zt(),[C,j]=zt(),I=yl(i,t),R=wt(n);_e(()=>(f.set(t,{id:t,key:a,node:x,activatorNode:C,data:R}),()=>{const T=f.get(t);T&&T.key===a&&f.delete(t)}),[f,t]);const _=c.useMemo(()=>({role:v,tabIndex:m,"aria-disabled":r,"aria-pressed":g&&v===Ns?!0:void 0,"aria-roledescription":w,"aria-describedby":p.draggable}),[r,v,m,g,w,p.draggable]);return{active:d,activatorEvent:l,activeNodeRect:u,attributes:_,isDragging:g,listeners:r?void 0:I,node:x,over:h,setNodeRef:b,setActivatorNodeRef:j,transform:y}}function Ll(){return c.useContext(fo)}const zl="Droppable",Bl={timeout:25};function Fl(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const a=It(zl),{active:i,dispatch:l,over:d,measureDroppableContainers:u}=c.useContext(Jt),p=c.useRef({disabled:n}),f=c.useRef(!1),h=c.useRef(null),v=c.useRef(null),{disabled:w,updateMeasurementsFor:m,timeout:g}={...Bl,...o},y=wt(m??r),x=c.useCallback(()=>{if(!f.current){f.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),v.current=null},g)},[g]),b=Zt({callback:x,disabled:w||!i}),C=c.useCallback((_,T)=>{b&&(T&&(b.unobserve(T),f.current=!1),_&&b.observe(_))},[b]),[j,I]=zt(C),R=wt(t);return c.useEffect(()=>{!b||!j.current||(b.disconnect(),f.current=!1,b.observe(j.current))},[j,b]),c.useEffect(()=>(l({type:K.RegisterDroppable,element:{id:r,key:a,disabled:n,node:j,rect:h,data:R}}),()=>l({type:K.UnregisterDroppable,key:a,id:r})),[r]),c.useEffect(()=>{n!==p.current.disabled&&(l({type:K.SetDroppableDisabled,id:r,key:a,disabled:n}),p.current.disabled=n)},[r,a,n,l]),{active:i,rect:h,isOver:(d==null?void 0:d.id)===r,node:j,over:d,setNodeRef:I}}function Qt(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Vl(e,t){return e.reduce((n,r,o)=>{const a=t.get(r);return a&&(n[o]=a),n},Array(e.length))}function Mt(e){return e!==null&&e>=0}function $l(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Hl(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const mo=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const a=Qt(t,r,n),i=t[o],l=a[o];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},At={scaleX:1,scaleY:1},xo=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:a,overIndex:i}=e;const l=(t=a[n])!=null?t:r;if(!l)return null;if(o===n){const u=a[i];return u?{x:0,y:n<i?u.top+u.height-(l.top+l.height):u.top-l.top,...At}:null}const d=Wl(a,o,n);return o>n&&o<=i?{x:0,y:-l.height-d,...At}:o<n&&o>=i?{x:0,y:l.height+d,...At}:{x:0,y:0,...At}};function Wl(e,t,n){const r=e[t],o=e[t-1],a=e[t+1];return r?n<t?o?r.top-(o.top+o.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const go="Sortable",vo=N.createContext({activeIndex:-1,containerId:go,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mo,disabled:{draggable:!1,droppable:!1}});function bo(e){let{children:t,id:n,items:r,strategy:o=mo,disabled:a=!1}=e;const{active:i,dragOverlay:l,droppableRects:d,over:u,measureDroppableContainers:p}=Ll(),f=It(go,n),h=l.rect!==null,v=c.useMemo(()=>r.map(I=>typeof I=="object"&&"id"in I?I.id:I),[r]),w=i!=null,m=i?v.indexOf(i.id):-1,g=u?v.indexOf(u.id):-1,y=c.useRef(v),x=!$l(v,y.current),b=g!==-1&&m===-1||x,C=Hl(a);_e(()=>{x&&w&&p(v)},[x,v,w,p]),c.useEffect(()=>{y.current=v},[v]);const j=c.useMemo(()=>({activeIndex:m,containerId:f,disabled:C,disableTransforms:b,items:v,overIndex:g,useDragOverlay:h,sortedRects:Vl(v,d),strategy:o}),[m,f,C.draggable,C.droppable,b,v,g,d,h,o]);return N.createElement(vo.Provider,{value:j},t)}const Kl=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Qt(n,r,o).indexOf(t)},Ul=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:a,newIndex:i,previousItems:l,previousContainerId:d,transition:u}=e;return!u||!r||l!==a&&o===i?!1:n?!0:i!==o&&t===d},ql={duration:200,easing:"ease"},yo="transform",Gl=it.Transition.toString({property:yo,duration:0,easing:"linear"}),Xl={roleDescription:"sortable"};function Yl(e){let{disabled:t,index:n,node:r,rect:o}=e;const[a,i]=c.useState(null),l=c.useRef(n);return _e(()=>{if(!t&&n!==l.current&&r.current){const d=o.current;if(d){const u=ut(r.current,{ignoreTransform:!0}),p={x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height};(p.x||p.y)&&i(p)}}n!==l.current&&(l.current=n)},[t,n,r,o]),c.useEffect(()=>{a&&i(null)},[a]),a}function es(e){let{animateLayoutChanges:t=Ul,attributes:n,disabled:r,data:o,getNewIndex:a=Kl,id:i,strategy:l,resizeObserverConfig:d,transition:u=ql}=e;const{items:p,containerId:f,activeIndex:h,disabled:v,disableTransforms:w,sortedRects:m,overIndex:g,useDragOverlay:y,strategy:x}=c.useContext(vo),b=Zl(r,v),C=p.indexOf(i),j=c.useMemo(()=>({sortable:{containerId:f,index:C,items:p},...o}),[f,o,C,p]),I=c.useMemo(()=>p.slice(p.indexOf(i)),[p,i]),{rect:R,node:_,isOver:T,setNodeRef:A}=Fl({id:i,data:j,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...d}}),{active:E,activatorEvent:F,activeNodeRect:z,attributes:k,setNodeRef:V,listeners:$,isDragging:B,over:ne,setActivatorNodeRef:G,transform:De}=Ol({id:i,data:j,attributes:{...Xl,...n},disabled:b.draggable}),ke=vi(A,V),X=!!E,ae=X&&!w&&Mt(h)&&Mt(g),se=!y&&B,Ce=se&&ae?De:null,D=ae?Ce??(l??x)({rects:m,activeNodeRect:z,activeIndex:h,overIndex:g,index:C}):null,P=Mt(h)&&Mt(g)?a({id:i,items:p,activeIndex:h,overIndex:g}):C,H=E==null?void 0:E.id,S=c.useRef({activeId:H,items:p,newIndex:P,containerId:f}),O=p!==S.current.items,M=t({active:E,containerId:f,isDragging:B,isSorting:X,id:i,index:C,items:p,newIndex:S.current.newIndex,previousItems:S.current.items,previousContainerId:S.current.containerId,transition:u,wasDragging:S.current.activeId!=null}),re=Yl({disabled:!M,index:C,node:_,rect:R});return c.useEffect(()=>{X&&S.current.newIndex!==P&&(S.current.newIndex=P),f!==S.current.containerId&&(S.current.containerId=f),p!==S.current.items&&(S.current.items=p)},[X,P,f,p]),c.useEffect(()=>{if(H===S.current.activeId)return;if(H&&!S.current.activeId){S.current.activeId=H;return}const je=setTimeout(()=>{S.current.activeId=H},50);return()=>clearTimeout(je)},[H]),{active:E,activeIndex:h,attributes:k,data:j,rect:R,index:C,newIndex:P,items:p,isOver:T,isSorting:X,isDragging:B,listeners:$,node:_,overIndex:g,over:ne,setNodeRef:ke,setActivatorNodeRef:G,setDroppableNodeRef:A,setDraggableNodeRef:V,transform:re??D,transition:Q()};function Q(){if(re||O&&S.current.newIndex===C)return Gl;if(!(se&&!Yn(F)||!u)&&(X||M))return it.Transition.toString({...u,property:yo})}}function Zl(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}L.Down,L.Right,L.Up,L.Left;const Jl=({table:e})=>{const{updateTable:t,removeTable:n,createIndex:r,createField:o,createTable:a,schemas:i,filteredSchemas:l}=he(),{openTableSchemaDialog:d}=Nn(),{t:u}=ge(),{fitView:p,setNodes:f}=Nt(),{hideSidePanel:h}=Ie(),[v,w]=N.useState(!1),[m,g]=N.useState(e.name),{isMd:y}=Sn("md"),x=N.useRef(null),{listeners:b}=es({id:e.id}),C=c.useCallback(()=>{v&&(m.trim()&&t(e.id,{name:m.trim()}),w(!1))},[m,e.id,t,v]),j=c.useCallback(()=>{w(!1),g(e.name)},[e.name]);Es(x,C),cn("Enter",C),cn("Escape",j);const I=k=>{k.stopPropagation(),w(!0)},R=c.useCallback(k=>{k.stopPropagation(),f(V=>V.map($=>$.id==e.id?{...$,selected:!0}:{...$,selected:!1})),p({duration:500,maxZoom:1,minZoom:1,nodes:[{id:e.id}]}),y||h()},[p,e.id,f,h,y]),_=c.useCallback(()=>{n(e.id)},[e.id,n]),T=c.useCallback(k=>{t(e.id,{schema:k})},[e.id,t]),A=c.useCallback(()=>{d({table:e,schemas:i,onConfirm:T})},[d,e,i,T]),E=c.useCallback(k=>{k.stopPropagation();const V=qo(e);V.name=`${V.name}_copy`,V.x+=30,V.y+=50,a(V)},[a,e]),F=c.useCallback(()=>s.jsxs(_n,{children:[s.jsx(In,{children:s.jsx(be,{children:s.jsx(On,{})})}),s.jsxs(Dn,{className:"w-fit min-w-40",children:[s.jsx(kn,{children:u("side_panel.tables_section.table.table_actions.title")}),s.jsx(nt,{}),i.length>0?s.jsxs(s.Fragment,{children:[s.jsx(st,{children:s.jsxs(We,{className:"flex justify-between gap-4",onClick:k=>{k.stopPropagation(),A()},children:[u("side_panel.tables_section.table.table_actions.change_schema"),s.jsx(ja,{className:"size-3.5"})]})}),s.jsx(nt,{})]}):null,s.jsxs(st,{children:[s.jsxs(We,{className:"flex justify-between gap-4",onClick:k=>{k.stopPropagation(),o(e.id)},children:[u("side_panel.tables_section.table.table_actions.add_field"),s.jsx(dn,{className:"size-3.5"})]}),s.jsxs(We,{className:"flex justify-between gap-4",onClick:k=>{k.stopPropagation(),r(e.id)},children:[u("side_panel.tables_section.table.table_actions.add_index"),s.jsx(un,{className:"size-3.5"})]})]}),s.jsx(nt,{}),s.jsx(st,{children:s.jsxs(We,{onClick:E,className:"flex justify-between",children:[u("side_panel.tables_section.table.table_actions.duplicate_table"),s.jsx(sa,{className:"size-3.5"})]})}),s.jsx(nt,{}),s.jsx(st,{children:s.jsxs(We,{onClick:_,className:"flex justify-between !text-red-700",children:[u("side_panel.tables_section.table.table_actions.delete_table"),s.jsx(Ye,{className:"size-3.5 text-red-700"})]})})]})]}),[e.id,o,r,_,E,u,A,i.length]);let z;return i.length>1&&l&&l.length>1&&(z=e.schema),s.jsxs("div",{className:"group flex h-11 flex-1 items-center justify-between gap-1 overflow-hidden",children:[s.jsx("div",{className:"flex cursor-move items-center justify-center",...b,children:s.jsx(Fs,{className:"size-4 text-muted-foreground"})}),s.jsx("div",{className:"flex min-w-0 flex-1 px-1",children:v?s.jsx(Ze,{ref:x,autoFocus:!0,type:"text",placeholder:e.name,value:m,onClick:k=>k.stopPropagation(),onChange:k=>g(k.target.value),className:"h-7 w-full focus-visible:ring-0"}):s.jsxs(de,{children:[s.jsx(ue,{asChild:!0,children:s.jsxs("div",{onDoubleClick:I,className:"text-editable truncate px-2 py-0.5",children:[e.name,s.jsx("span",{className:"text-xs text-muted-foreground",children:z?` (${z})`:""})]})}),s.jsx(fe,{children:u("tool_tips.double_click_to_edit")})]})}),s.jsx("div",{className:"flex flex-row-reverse",children:v?s.jsx(be,{onClick:C,children:s.jsx(Ms,{})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{children:F()}),s.jsxs("div",{className:"flex flex-row-reverse md:hidden md:group-hover:flex",children:[s.jsx(be,{onClick:I,children:s.jsx(Ts,{})}),s.jsx(be,{onClick:R,children:s.jsx(Rn,{})})]})]})})]})};var ts="Checkbox",[Ql,Ec]=$t(ts),[ec,tc]=Ql(ts),wo=c.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:a,required:i,disabled:l,value:d="on",onCheckedChange:u,form:p,...f}=e,[h,v]=c.useState(null),w=pe(t,C=>v(C)),m=c.useRef(!1),g=h?p||!!h.closest("form"):!0,[y=!1,x]=ot({prop:o,defaultProp:a,onChange:u}),b=c.useRef(y);return c.useEffect(()=>{const C=h==null?void 0:h.form;if(C){const j=()=>x(b.current);return C.addEventListener("reset",j),()=>C.removeEventListener("reset",j)}},[h,x]),s.jsxs(ec,{scope:n,state:y,disabled:l,children:[s.jsx(q.button,{type:"button",role:"checkbox","aria-checked":Ve(y)?"mixed":y,"aria-required":i,"data-state":No(y),"data-disabled":l?"":void 0,disabled:l,value:d,...f,ref:w,onKeyDown:W(e.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:W(e.onClick,C=>{x(j=>Ve(j)?!0:!j),g&&(m.current=C.isPropagationStopped(),m.current||C.stopPropagation())})}),g&&s.jsx(nc,{control:h,bubbles:!m.current,name:r,value:d,checked:y,required:i,disabled:l,form:p,style:{transform:"translateX(-100%)"},defaultChecked:Ve(a)?!1:a})]})});wo.displayName=ts;var Co="CheckboxIndicator",jo=c.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,a=tc(Co,n);return s.jsx(Rs,{present:r||Ve(a.state)||a.state===!0,children:s.jsx(q.span,{"data-state":No(a.state),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});jo.displayName=Co;var nc=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:o,...a}=e,i=c.useRef(null),l=$s(n),d=Go(t);c.useEffect(()=>{const p=i.current,f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&v){const w=new Event("click",{bubbles:r});p.indeterminate=Ve(n),v.call(p,Ve(n)?!1:n),p.dispatchEvent(w)}},[l,n,r]);const u=c.useRef(Ve(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??u.current,...a,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ve(e){return e==="indeterminate"}function No(e){return Ve(e)?"indeterminate":e?"checked":"unchecked"}var So=wo,sc=jo;const ns=N.forwardRef(({className:e,...t},n)=>s.jsx(So,{ref:n,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(sc,{className:J("flex items-center justify-center text-current"),children:s.jsx(Ds,{className:"size-4"})})}));ns.displayName=So.displayName;const Dt=N.forwardRef(({className:e,variant:t,size:n,...r},o)=>s.jsx(As,{ref:o,className:J(da({variant:t,size:n,className:e})),...r}));Dt.displayName=As.displayName;const jn=N.forwardRef((e,t)=>s.jsx(Dt,{...e,ref:t,variant:"default",className:"h-8 w-[32px] p-2 text-xs text-slate-500 hover:bg-primary-foreground hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}));jn.displayName=Dt.displayName;const rc=({field:e,updateField:t,removeField:n})=>{const{databaseType:r}=he(),{t:o}=ge(),{attributes:a,listeners:i,setNodeRef:l,transform:d,transition:u}=es({id:e.id}),p=ds[r].map(h=>({label:h.name,value:h.id})),f={transform:it.Translate.toString(d),transition:u};return s.jsxs("div",{className:"flex flex-1 touch-none flex-row justify-between p-1",ref:l,style:f,...a,children:[s.jsxs("div",{className:"flex w-8/12 items-center justify-start gap-1 overflow-hidden",children:[s.jsx("div",{className:"flex w-4 shrink-0 cursor-move items-center justify-center",...i,children:s.jsx(Fs,{className:"size-3.5  text-muted-foreground"})}),s.jsxs(de,{children:[s.jsx(ue,{asChild:!0,children:s.jsx("span",{className:"w-5/12",children:s.jsx(Ze,{className:"h-8 w-full !truncate focus-visible:ring-0",type:"text",placeholder:o("side_panel.tables_section.table.field_name"),value:e.name,onChange:h=>t({name:h.target.value})})})}),s.jsx(fe,{children:e.name})]}),s.jsxs(de,{children:[s.jsx(ue,{className:"flex h-8 !w-5/12",asChild:!0,children:s.jsx("span",{children:s.jsx(En,{className:"flex h-8 min-h-8 w-full",options:p,placeholder:o("side_panel.tables_section.table.field_type"),value:e.type.id,onChange:h=>t({type:ds[r].find(v=>v.id===h)}),emptyPlaceholder:o("side_panel.tables_section.table.no_types_found")})})}),s.jsx(fe,{children:e.type.name})]})]}),s.jsxs("div",{className:"flex w-4/12 justify-end gap-1 overflow-hidden",children:[s.jsxs(de,{children:[s.jsx(ue,{asChild:!0,children:s.jsx("span",{children:s.jsx(jn,{pressed:e.nullable,onPressedChange:h=>t({nullable:h}),children:"N"})})}),s.jsx(fe,{children:o("side_panel.tables_section.table.nullable")})]}),s.jsxs(de,{children:[s.jsx(ue,{asChild:!0,children:s.jsx("span",{children:s.jsx(jn,{pressed:e.primaryKey,onPressedChange:h=>t({unique:h,primaryKey:h}),children:s.jsx(ra,{className:"h-3.5"})})})}),s.jsx(fe,{children:o("side_panel.tables_section.table.primary_key")})]}),s.jsxs(Tn,{children:[s.jsx(Mn,{asChild:!0,children:s.jsx(U,{variant:"ghost",className:"h-8 w-[32px] p-2 text-slate-500 hover:bg-primary-foreground hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",children:s.jsx(Bs,{className:"size-3.5"})})}),s.jsx(An,{className:"w-52",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:o("side_panel.tables_section.table.field_actions.title")}),s.jsx(yt,{orientation:"horizontal"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(at,{htmlFor:"width",className:"text-subtitle",children:o("side_panel.tables_section.table.field_actions.unique")}),s.jsx(ns,{checked:e.unique,disabled:e.primaryKey,onCheckedChange:h=>t({unique:!!h})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(at,{htmlFor:"width",className:"text-subtitle",children:o("side_panel.tables_section.table.field_actions.comments")}),s.jsx(Ps,{value:e.comments,onChange:h=>t({comments:h.target.value}),placeholder:o("side_panel.tables_section.table.field_actions.no_comments"),className:"w-full rounded-md bg-muted text-sm"})]})]}),s.jsx(yt,{orientation:"horizontal"}),s.jsxs(U,{variant:"outline",className:"flex gap-2 !text-red-700",onClick:n,children:[s.jsx(Ye,{className:"size-3.5 text-red-700"}),o("side_panel.tables_section.table.field_actions.delete_field")]})]})})]})]})]})},Ro=N.forwardRef((e,t)=>s.jsx(Dt,{...e,ref:t,variant:"default",className:"h-8 w-[32px] p-2 text-xs text-slate-500 hover:bg-primary-foreground hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}));Ro.displayName=Dt.displayName;const oc=({fields:e,index:t,updateIndex:n,removeIndex:r})=>{const{t:o}=ge(),a=e.map(l=>({label:l.name,value:l.id})),i=l=>{const d=Array.isArray(l)?l:[l];n({fieldIds:d})};return s.jsxs("div",{className:"flex flex-1 flex-row justify-between gap-2 p-1",children:[s.jsx(En,{className:"flex h-8 min-h-8 min-w-0 flex-1",multiple:!0,oneLine:!0,options:a,placeholder:o("side_panel.tables_section.table.index_select_fields"),value:t.fieldIds,onChange:i,emptyPlaceholder:o("side_panel.tables_section.table.no_types_found"),keepOrder:!0}),s.jsxs("div",{className:"flex shrink-0 gap-1",children:[s.jsxs(de,{children:[s.jsx(ue,{asChild:!0,children:s.jsx("span",{children:s.jsx(Ro,{pressed:t.unique,onPressedChange:l=>n({unique:!!l}),children:"U"})})}),s.jsx(fe,{children:o("side_panel.tables_section.table.index_actions.unique")})]}),s.jsxs(Tn,{children:[s.jsx(Mn,{asChild:!0,children:s.jsx(U,{variant:"ghost",className:"h-8 w-[32px] p-2 text-slate-500 hover:bg-primary-foreground hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",children:s.jsx(Bs,{className:"size-3.5"})})}),s.jsx(An,{className:"w-52",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:o("side_panel.tables_section.table.index_actions.title")}),s.jsx(yt,{orientation:"horizontal"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(at,{htmlFor:"width",className:"text-subtitle",children:o("side_panel.tables_section.table.index_actions.name")}),s.jsx(Ze,{value:t.name,onChange:l=>n({name:l.target.value})})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx(at,{htmlFor:"width",className:"text-subtitle",children:o("side_panel.tables_section.table.index_actions.unique")}),s.jsx(ns,{checked:t.unique,onCheckedChange:l=>n({unique:!!l})})]}),s.jsx(yt,{orientation:"horizontal"}),s.jsxs(U,{variant:"outline",className:"flex gap-2 !text-red-700",onClick:r,children:[s.jsx(Ye,{className:"size-3.5 text-red-700"}),o("side_panel.tables_section.table.index_actions.delete_index")]})]})})]})]})]})},_o=N.forwardRef(({color:e,onChange:t},n)=>s.jsxs(Tn,{children:[s.jsx(Mn,{asChild:!0,ref:n,children:s.jsx("div",{className:"h-6 w-8 cursor-pointer rounded-md border-2 border-muted transition-shadow hover:shadow-md",style:{backgroundColor:e}})}),s.jsx(An,{className:"w-fit",children:s.jsx("div",{className:"grid grid-cols-4 gap-2",children:ga.map(r=>s.jsx("div",{className:"size-8 cursor-pointer rounded-md border-2 border-muted transition-shadow hover:shadow-md",style:{backgroundColor:r},onClick:()=>t(r)},r))})})]}));_o.displayName="ColorPicker";const ac=({table:e})=>{const{updateField:t,removeField:n,createField:r,createIndex:o,removeIndex:a,updateIndex:i,updateTable:l}=he(),{t:d}=ge(),{color:u}=e,[p,f]=N.useState(["fields"]),h=Jr(Zr(Yt)),v=g=>{const{active:y,over:x}=g;if((y==null?void 0:y.id)!==(x==null?void 0:x.id)&&x&&y){const b=e.fields,C=b.findIndex(I=>I.id===y.id),j=b.findIndex(I=>I.id===x.id);l(e.id,{fields:Qt(b,C,j)})}},w=c.useCallback(g=>{g.stopPropagation(),f(y=>y.includes("indexes")?y:[...y,"indexes"]),o(e.id)},[o,e.id,f]),m=c.useCallback(g=>{g.stopPropagation(),r(e.id)},[r,e.id]);return s.jsxs("div",{className:"flex flex-col gap-1 rounded-b-md border-l-[6px] px-1",style:{borderColor:u},children:[s.jsxs(Gt,{type:"multiple",className:"w-full",value:p,onValueChange:g=>f(g),children:[s.jsxs(Ue,{value:"fields",className:"mb-2 border-y-0",children:[s.jsx(qe,{iconPosition:"right",className:"group flex flex-1 p-0 px-2 py-1 text-xs text-subtitle hover:bg-secondary",asChild:!0,children:s.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx(dn,{className:"size-4"}),d("side_panel.tables_section.table.fields")]}),s.jsx("div",{className:"flex flex-row-reverse",children:s.jsx("div",{className:"hidden flex-row-reverse group-hover:flex",children:s.jsx(U,{variant:"ghost",className:"size-4 p-0 text-xs hover:bg-primary-foreground",onClick:m,children:s.jsx(Tt,{className:"size-4 shrink-0 text-muted-foreground transition-transform duration-200"})})})})]})}),s.jsx(Ge,{className:"flex flex-col pb-0 pt-1",children:s.jsxs(ho,{sensors:h,collisionDetection:Qr,onDragEnd:v,children:[s.jsx(bo,{items:e.fields,strategy:xo,children:e.fields.map(g=>s.jsx(rc,{field:g,updateField:y=>t(e.id,g.id,y),removeField:()=>n(e.id,g.id)},g.id))}),s.jsx("div",{className:"flex justify-start p-1",children:s.jsxs(U,{variant:"ghost",className:"flex h-7 items-center gap-1 px-2 text-xs",onClick:m,children:[s.jsx(Tt,{className:"size-4 text-muted-foreground"}),d("side_panel.tables_section.table.add_field")]})})]})})]}),s.jsxs(Ue,{value:"indexes",className:"mb-2 border-y-0",children:[s.jsx(qe,{iconPosition:"right",className:"group flex flex-1 p-0 px-2 py-1 text-xs text-subtitle hover:bg-secondary",asChild:!0,children:s.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx(un,{className:"size-4"}),d("side_panel.tables_section.table.indexes")]}),s.jsx("div",{className:"flex flex-row-reverse",children:s.jsx("div",{className:"hidden flex-row-reverse group-hover:flex",children:s.jsx(U,{variant:"ghost",className:"size-4 p-0 text-xs hover:bg-primary-foreground",onClick:w,children:s.jsx(Tt,{className:"size-4 shrink-0 text-muted-foreground transition-transform duration-200"})})})})]})}),s.jsxs(Ge,{className:"pb-0 pt-1",children:[e.indexes.map(g=>s.jsx(oc,{index:g,removeIndex:()=>a(e.id,g.id),updateIndex:y=>i(e.id,g.id,y),fields:e.fields},g.id)),s.jsx("div",{className:"flex justify-start p-1",children:s.jsxs(U,{variant:"ghost",className:"flex h-7 items-center gap-1 px-2 text-xs",onClick:w,children:[s.jsx(Tt,{className:"size-4 text-muted-foreground"}),d("side_panel.tables_section.table.add_index")]})})]})]}),s.jsxs(Ue,{value:"comments",className:"border-y-0",children:[s.jsx(qe,{iconPosition:"right",className:"group flex flex-1 p-0 px-2 py-1 text-xs text-subtitle hover:bg-secondary",asChild:!0,children:s.jsx("div",{className:"flex flex-1 items-center justify-between",children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx(oa,{className:"size-4"}),d("side_panel.tables_section.table.comments")]})})}),s.jsx(Ge,{className:"pb-0 pt-1",children:s.jsx(Ps,{value:e.comments,onChange:g=>l(e.id,{comments:g.target.value}),placeholder:d("side_panel.tables_section.table.no_comments"),className:"w-full rounded-md bg-muted text-sm focus-visible:ring-0"})})]})]}),s.jsx(yt,{className:""}),s.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[s.jsx(_o,{color:u,onChange:g=>l(e.id,{color:g})}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(U,{variant:"outline",className:"h-8 p-2 text-xs",onClick:w,children:[s.jsx(un,{className:"h-4"}),d("side_panel.tables_section.table.add_index")]}),s.jsxs(U,{variant:"outline",className:"h-8 p-2 text-xs",onClick:m,children:[s.jsx(dn,{className:"h-4"}),d("side_panel.tables_section.table.add_field")]})]})]})]})},Io=N.forwardRef(({table:e},t)=>{const{attributes:n,setNodeRef:r,transform:o,transition:a}=es({id:e.id}),i={transform:it.Translate.toString(o),transition:a};return s.jsx(Ue,{value:e.id,className:"border-none",ref:t,children:s.jsxs("div",{className:"w-full rounded-md border-b",ref:r,style:i,...n,children:[s.jsx(qe,{className:"w-full rounded-md border-l-[6px] px-2 py-0 hover:bg-accent hover:no-underline data-[state=open]:rounded-b-none",style:{borderColor:e.color},asChild:!0,children:s.jsx(Jl,{table:e})}),s.jsx(Ge,{children:s.jsx(ac,{table:e})})]})})});Io.displayName="TableListItem";const ic=({tables:e})=>{const{updateTablesState:t}=he(),{openTableFromSidebar:n,openedTableInSidebar:r}=Ie(),o=N.useRef(null),a=c.useMemo(()=>e.reduce((p,f)=>(p[f.id]=N.createRef(),p),{}),[e]),i=c.useCallback(p=>{var f,h;return(h=(f=a[p])==null?void 0:f.current)==null?void 0:h.scrollIntoView({behavior:"smooth",block:"start"})},[a]),l=Jr(Zr(Yt)),d=p=>{const{active:f,over:h}=p;if((f==null?void 0:f.id)!==(h==null?void 0:h.id)&&h&&f){const v=e.findIndex(g=>g.id===f.id),w=e.findIndex(g=>g.id===h.id),m=Qt(e,v,w).reduce((g,y,x)=>(g.set(y.id,x),g),new Map);t(g=>g.map(y=>({id:y.id,order:m.get(y.id)})))}},u=c.useCallback(()=>{r&&o.current!==r&&(o.current=r,i(r))},[i,r]);return s.jsx(Gt,{type:"single",collapsible:!0,className:"flex w-full flex-col gap-1",value:r,onValueChange:n,onAnimationEnd:u,children:s.jsx(ho,{sensors:l,collisionDetection:Qr,onDragEnd:d,children:s.jsx(bo,{items:e,strategy:xo,children:e.sort((p,f)=>p.order&&f.order===void 0?-1:p.order===void 0&&f.order?1:p.order!==void 0&&f.order!==void 0?p.order-f.order:p.isView===f.isView?p.name.localeCompare(f.name):p.isView?1:-1).map(p=>s.jsx(Io,{table:p,ref:a[p.id]},p.id))})})})},lc="/assets/empty_state-FM0xVkGj.png",cc="/assets/empty_state_dark-CGFOiUtp.png",en=c.forwardRef(({title:e,description:t,className:n,titleClassName:r,descriptionClassName:o,imageClassName:a},i)=>{const{effectiveTheme:l}=zs();return s.jsxs("div",{ref:i,className:J("flex flex-1 flex-col items-center justify-center space-y-1",n),children:[s.jsx("img",{src:l==="dark"?cc:lc,alt:"Empty state",className:J("mb-2 w-20",a)}),s.jsx(at,{className:J("text-base",r),children:e}),s.jsx(at,{className:J("text-sm font-normal text-muted-foreground",o),children:t})]})});en.displayName="EmptyState";const dc=e=>e==="dark"?"dbml-dark":"dbml-light",uc=({filteredTables:e})=>{const{currentDiagram:t}=he(),{effectiveTheme:n}=zs(),{toast:r}=aa(),o=c.useMemo(()=>{var d,u;const a={...t,tables:e,relationships:((d=t.relationships)==null?void 0:d.filter(p=>{const f=e.find(v=>v.id===p.sourceTableId),h=e.find(v=>v.id===p.targetTableId);return f&&h}))??[]},i={...a,tables:((u=a.tables)==null?void 0:u.map(p=>{var f;return{...p,name:p.name.replace(/\s/g,"_"),fields:p.fields.map(h=>({...h,name:h.name.replace(/\s/g,"_")})),indexes:(f=p.indexes)==null?void 0:f.map(h=>({...h,name:h.name.replace(/\s/g,"_")}))}}))??[]},l=ua(i);try{return fa.importer.import(l,"postgres")}catch(p){return console.error(p),r({title:"Error",description:"Failed to generate DBML. We would appreciate if you could report this issue!",variant:"destructive"}),""}},[t,e,r]);return s.jsx(pa,{code:o,className:"my-0.5",editorProps:{height:"100%",defaultLanguage:"dbml",beforeMount:ha,loading:!1,theme:dc(n),options:{wordWrap:"off",mouseWheelZoom:!1,domReadOnly:!0}}})},fc=()=>{const{createTable:e,tables:t,filteredSchemas:n,schemas:r}=he(),{openTableSchemaDialog:o}=Nn(),a=ia(),{t:i}=ge(),{openTableFromSidebar:l}=Ie(),[d,u]=N.useState(""),[p,f]=c.useState(!1),h=N.useRef(null),v=c.useMemo(()=>{const x=C=>{var j;return!((j=d==null?void 0:d.trim)!=null&&j.call(d))||C.name.toLowerCase().includes(d.toLowerCase())},b=C=>la(C,n);return t.filter(b).filter(x)},[t,d,n]),w=c.useCallback(async x=>{const C=-a.x/a.zoom+80/a.zoom,j=-a.y/a.zoom+80/a.zoom,I=await e({x:C,y:j,schema:x});l(I.id)},[e,l,a.x,a.y,a.zoom]),m=c.useCallback(async()=>{var x;if(u(""),((n==null?void 0:n.length)??0)>1)o({onConfirm:w,schemas:r.filter(b=>n==null?void 0:n.includes(b.id))});else{const b=(n==null?void 0:n.length)===1?(x=r.find(C=>C.id===n[0]))==null?void 0:x.name:void 0;w(b)}},[w,n,o,r,u]),g=c.useCallback(()=>{u("")},[]),y=c.useMemo(()=>Xo(),[]);return fs(y==="mac"?"meta+f":"ctrl+f",()=>{var x;(x=h.current)==null||x.focus()},{preventDefault:!0},[h]),fs(y==="mac"?"meta+p":"ctrl+p",()=>{f(x=>!x)},{preventDefault:!0},[f]),s.jsxs("section",{className:"flex flex-1 flex-col overflow-hidden px-2","data-vaul-no-drag":!0,children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 py-1",children:[s.jsx("div",{children:s.jsxs(de,{children:[s.jsx(ue,{asChild:!0,children:s.jsx("span",{children:s.jsx(U,{variant:"ghost",className:"size-8 p-0",onClick:()=>f(x=>!x),children:p?s.jsx(Na,{className:"size-4"}):s.jsx(Ca,{className:"size-4"})})})}),s.jsxs(fe,{children:[i(p?"side_panel.tables_section.show_list":"side_panel.tables_section.show_dbml"),y==="mac"?" (âŒ˜P)":" (Ctrl+P)"]})]})}),s.jsx("div",{className:"flex-1",children:s.jsx(Ze,{ref:h,type:"text",placeholder:i("side_panel.tables_section.filter"),className:"h-8 w-full focus-visible:ring-0",value:d,onChange:x=>u(x.target.value)})}),s.jsxs(U,{variant:"secondary",className:"h-8 p-2 text-xs",onClick:m,children:[s.jsx(Sa,{className:"h-4"}),i("side_panel.tables_section.add_table")]})]}),s.jsx("div",{className:"flex flex-1 flex-col overflow-hidden",children:p?s.jsx(uc,{filteredTables:v}):s.jsx(Pn,{className:"h-full",children:t.length===0?s.jsx(en,{title:i("side_panel.tables_section.empty_state.title"),description:i("side_panel.tables_section.empty_state.description"),className:"mt-20"}):d&&v.length===0?s.jsxs("div",{className:"mt-10 flex flex-col items-center gap-2",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:i("side_panel.tables_section.no_results")}),s.jsxs(U,{variant:"outline",size:"sm",onClick:g,className:"gap-1",children:[s.jsx(ma,{className:"size-3.5"}),i("side_panel.tables_section.clear")]})]}):s.jsx(ic,{tables:v})})})]})},pc=({relationship:e})=>{const{updateRelationship:t,removeRelationship:n}=he(),{fitView:r,deleteElements:o,setEdges:a}=Nt(),{t:i}=ge(),{hideSidePanel:l}=Ie(),[d,u]=N.useState(!1),{isMd:p}=Sn("md"),[f,h]=N.useState(e.name),v=N.useRef(null),w=c.useCallback(()=>{d&&(f.trim()&&f!==e.name&&t(e.id,{name:f.trim()}),u(!1))},[f,e.id,t,d,e.name]);Es(v,w),cn("Enter",w);const m=b=>{b.stopPropagation(),u(!0)},g=c.useCallback(b=>{b.stopPropagation(),a(C=>C.map(j=>j.id==e.id?{...j,selected:!0}:{...j,selected:!1})),r({duration:500,maxZoom:1,minZoom:1,nodes:[{id:e.sourceTableId},{id:e.targetTableId}]}),p||l()},[r,e.sourceTableId,e.targetTableId,a,e.id,p,l]),y=c.useCallback(()=>{n(e.id),o({edges:[{id:e.id}]})},[e.id,n,o]),x=c.useCallback(()=>s.jsxs(_n,{children:[s.jsx(In,{children:s.jsx(be,{children:s.jsx(On,{})})}),s.jsxs(Dn,{className:"w-40",children:[s.jsx(kn,{children:i("side_panel.relationships_section.relationship.relationship_actions.title")}),s.jsx(nt,{}),s.jsx(st,{children:s.jsxs(We,{onClick:y,className:"flex justify-between !text-red-700",children:[i("side_panel.relationships_section.relationship.relationship_actions.delete_relationship"),s.jsx(Ye,{className:"size-3.5 text-red-700"})]})})]})]}),[y,i]);return s.jsxs("div",{className:"group flex h-11 flex-1 items-center justify-between overflow-hidden",children:[s.jsx("div",{className:"flex min-w-0 flex-1",children:d?s.jsx(Ze,{ref:v,autoFocus:!0,type:"text",placeholder:e.name,value:f,onClick:b=>b.stopPropagation(),onChange:b=>h(b.target.value),className:"h-7 w-full focus-visible:ring-0"}):s.jsx("div",{className:"truncate",children:e.name})}),s.jsx("div",{className:"flex flex-row-reverse",children:d?s.jsx(be,{onClick:w,children:s.jsx(Ms,{})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{children:x()}),s.jsxs("div",{className:"flex flex-row-reverse md:hidden md:group-hover:flex",children:[s.jsx(be,{onClick:m,children:s.jsx(Ts,{})}),s.jsx(be,{onClick:g,children:s.jsx(Rn,{})})]})]})})]})},hc=({relationship:e})=>{const{getTable:t,getField:n,updateRelationship:r,removeRelationship:o}=he(),{deleteElements:a}=Nt(),{t:i}=ge(),l=c.useMemo(()=>va({sourceCardinality:e.sourceCardinality,targetCardinality:e.targetCardinality}),[e.sourceCardinality,e.targetCardinality]),d=c.useCallback(w=>{const{sourceCardinality:m,targetCardinality:g}=ba(w);r(e.id,{sourceCardinality:m,targetCardinality:g})},[e.id,r]),u=t(e.targetTableId),p=n(e.targetTableId,e.targetFieldId),f=t(e.sourceTableId),h=n(e.sourceTableId,e.sourceFieldId),v=c.useCallback(()=>{o(e.id),a({edges:[{id:e.id}]})},[e.id,o,a]);return s.jsxs("div",{className:"my-1 flex flex-col rounded-b-md px-1",children:[s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-1 text-xs",children:[s.jsxs("div",{className:"flex basis-1/2 flex-col gap-2 overflow-hidden text-xs",children:[s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx(Os,{className:"size-4 text-subtitle"}),s.jsx("div",{className:"font-bold text-subtitle",children:i("side_panel.relationships_section.relationship.primary")})]}),s.jsxs(de,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"truncate text-left text-sm",children:[f!=null&&f.schema?`${f.schema}.`:"",f==null?void 0:f.name,"(",h==null?void 0:h.name,")"]})}),s.jsxs(fe,{children:[f!=null&&f.schema?`${f.schema}.`:"",f==null?void 0:f.name,"(",h==null?void 0:h.name,")"]})]})]}),s.jsxs("div",{className:"flex basis-1/2 flex-col gap-2 overflow-hidden text-xs",children:[s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx(Ls,{className:"size-4 text-subtitle"}),s.jsx("div",{className:"font-bold text-subtitle",children:i("side_panel.relationships_section.relationship.foreign")})]}),s.jsxs(de,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"truncate text-left text-sm",children:[u!=null&&u.schema?`${u.schema}.`:"",u==null?void 0:u.name,"(",p==null?void 0:p.name,")"]})}),s.jsxs(fe,{children:[u!=null&&u.schema?`${u.schema}.`:"",u==null?void 0:u.name,"(",p==null?void 0:p.name,")"]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 text-xs",children:[s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx(wa,{className:"size-4 text-subtitle"}),s.jsx("div",{className:"font-bold text-subtitle",children:i("side_panel.relationships_section.relationship.cardinality")})]}),s.jsxs(Sr,{value:l,onValueChange:d,children:[s.jsx(zn,{className:"h-8",children:s.jsx(_r,{})}),s.jsx(Bn,{children:s.jsxs(Rr,{children:[s.jsx(Fe,{value:"one_to_one",children:i("relationship_type.one_to_one")}),s.jsx(Fe,{value:"one_to_many",children:i("relationship_type.one_to_many")}),s.jsx(Fe,{value:"many_to_one",children:i("relationship_type.many_to_one")}),s.jsx(Fe,{value:"many_to_many",children:i("relationship_type.many_to_many")})]})})]})]})]}),s.jsx("div",{className:"flex flex-1 items-center justify-center pt-2",children:s.jsxs(U,{variant:"ghost",className:"h-8 p-2 text-xs",onClick:v,children:[s.jsx(Ye,{className:"mr-1 size-3.5 text-red-700"}),s.jsx("div",{className:"text-red-700",children:i("side_panel.relationships_section.relationship.delete_relationship")})]})})]})},Do=N.forwardRef(({relationship:e},t)=>s.jsxs(Ue,{value:e.id,className:"rounded-md",ref:t,children:[s.jsx(qe,{asChild:!0,className:"w-full rounded-md px-2 py-0 hover:bg-accent hover:no-underline data-[state=open]:rounded-b-none",children:s.jsx(pc,{relationship:e})}),s.jsx(Ge,{className:"p-1 pb-0",children:s.jsx(hc,{relationship:e})})]}));Do.displayName="RelationshipListItem";const mc=({relationships:e})=>{const{openRelationshipFromSidebar:t,openedRelationshipInSidebar:n}=Ie(),r=N.useRef(null),o=e.reduce((l,d)=>(l[d.id]=N.createRef(),l),{}),a=c.useCallback(l=>{var d,u;return(u=(d=o[l])==null?void 0:d.current)==null?void 0:u.scrollIntoView({behavior:"smooth",block:"start"})},[o]),i=c.useCallback(()=>{n&&r.current!==n&&(r.current=n,a(n))},[a,n]);return s.jsx(Gt,{type:"single",collapsible:!0,className:"flex w-full flex-col gap-1",value:n,onValueChange:t,onAnimationEnd:i,children:e.map(l=>s.jsx(Do,{relationship:l,ref:o[l.id]},l.id))})},xc=()=>{const{relationships:e,filteredSchemas:t}=he(),[n,r]=N.useState(""),{closeAllRelationshipsInSidebar:o}=Ie(),{t:a}=ge(),{openCreateRelationshipDialog:i}=Nn(),l=c.useMemo(()=>{const u=f=>{var h;return!((h=n==null?void 0:n.trim)!=null&&h.call(n))||f.name.toLowerCase().includes(n.toLowerCase())},p=f=>ya(f,t);return e.filter(p).filter(u)},[e,n,t]),d=c.useCallback(async()=>{r(""),i()},[i,r]);return s.jsxs("section",{className:"flex flex-1 flex-col overflow-hidden px-2",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 py-1",children:[s.jsx("div",{children:s.jsxs(de,{children:[s.jsx(ue,{asChild:!0,children:s.jsx("span",{children:s.jsx(U,{variant:"ghost",className:"size-8 p-0",onClick:o,children:s.jsx(Vs,{className:"size-4"})})})}),s.jsx(fe,{children:a("side_panel.relationships_section.collapse")})]})}),s.jsx("div",{className:"flex-1",children:s.jsx(Ze,{type:"text",placeholder:a("side_panel.relationships_section.filter"),className:"h-8 w-full focus-visible:ring-0",value:n,onChange:u=>r(u.target.value)})}),s.jsxs(U,{variant:"secondary",className:"h-8 p-2 text-xs",onClick:d,children:[s.jsx(ca,{className:"h-4"}),a("side_panel.relationships_section.add_relationship")]})]}),s.jsx("div",{className:"flex flex-1 flex-col overflow-hidden",children:s.jsx(Pn,{className:"h-full",children:e.length===0?s.jsx(en,{title:a("side_panel.relationships_section.empty_state.title"),description:a("side_panel.relationships_section.empty_state.description"),className:"mt-20"}):s.jsx(mc,{relationships:l})})})]})},gc=({dependency:e})=>{const{removeDependency:t,getTable:n}=he(),{fitView:r,deleteElements:o,setEdges:a}=Nt(),{t:i}=ge(),{hideSidePanel:l}=Ie(),{isMd:d}=Sn("md"),u=c.useMemo(()=>{const v=n(e.tableId),w=n(e.dependentTableId);return!v||!w?"":`${w.name} -> ${v.name}`},[e.tableId,e.dependentTableId,n]),p=c.useCallback(v=>{v.stopPropagation(),a(w=>w.map(m=>m.id==e.id?{...m,selected:!0}:{...m,selected:!1})),r({duration:500,maxZoom:1,minZoom:1,nodes:[{id:e.tableId},{id:e.dependentTableId}]}),d||l()},[r,e.tableId,e.dependentTableId,a,e.id,d,l]),f=c.useCallback(()=>{t(e.id),o({edges:[{id:e.id}]})},[e.id,t,o]),h=c.useCallback(()=>s.jsxs(_n,{children:[s.jsx(In,{children:s.jsx(be,{children:s.jsx(On,{})})}),s.jsxs(Dn,{className:"w-40",children:[s.jsx(kn,{children:i("side_panel.dependencies_section.dependency.dependency_actions.title")}),s.jsx(nt,{}),s.jsx(st,{children:s.jsxs(We,{onClick:f,className:"flex justify-between !text-red-700",children:[i("side_panel.dependencies_section.dependency.dependency_actions.delete_dependency"),s.jsx(Ye,{className:"size-3.5 text-red-700"})]})})]})]}),[f,i]);return s.jsxs("div",{className:"group flex h-11 flex-1 items-center justify-between overflow-hidden",children:[s.jsx("div",{className:"flex min-w-0 flex-1",children:s.jsx("div",{className:"truncate",children:u})}),s.jsxs("div",{className:"flex flex-row-reverse",children:[s.jsx("div",{children:h()}),s.jsx("div",{className:"flex flex-row-reverse md:hidden md:group-hover:flex",children:s.jsx(be,{onClick:p,children:s.jsx(Rn,{})})})]})]})},vc=({dependency:e})=>{const{getTable:t,removeDependency:n}=he(),{deleteElements:r}=Nt(),{t:o}=ge(),a=t(e.tableId),i=t(e.dependentTableId),l=c.useCallback(()=>{n(e.id),r({edges:[{id:e.id}]})},[e.id,n,r]);return s.jsxs("div",{className:"my-1 flex flex-col rounded-b-md px-1",children:[s.jsx("div",{className:"flex flex-col gap-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-1 text-xs",children:[s.jsxs("div",{className:"flex basis-1/2 flex-col gap-2 overflow-hidden text-xs",children:[s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx(Ls,{className:"size-4 text-subtitle"}),s.jsx("div",{className:"font-bold text-subtitle",children:o("side_panel.dependencies_section.dependency.dependent_table")})]}),s.jsxs(de,{children:[s.jsx(ue,{children:s.jsx("div",{className:"truncate text-left text-sm	",children:i==null?void 0:i.name})}),s.jsx(fe,{children:i==null?void 0:i.name})]})]}),s.jsxs("div",{className:"flex basis-1/2 flex-col gap-2 overflow-hidden text-xs",children:[s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx(Os,{className:"size-4 text-subtitle"}),s.jsx("div",{className:"font-bold text-subtitle",children:o("side_panel.dependencies_section.dependency.table")})]}),s.jsxs(de,{children:[s.jsx(ue,{children:s.jsx("div",{className:"truncate text-left text-sm",children:a==null?void 0:a.name})}),s.jsx(fe,{children:a==null?void 0:a.name})]})]})]})}),s.jsx("div",{className:"flex flex-1 items-center justify-center pt-2",children:s.jsxs(U,{variant:"ghost",className:"h-8 p-2 text-xs",onClick:l,children:[s.jsx(Ye,{className:"mr-1 size-3.5 text-red-700"}),s.jsx("div",{className:"text-red-700",children:o("side_panel.dependencies_section.dependency.delete_dependency")})]})})]})},ko=N.forwardRef(({dependency:e},t)=>s.jsxs(Ue,{value:e.id,className:"rounded-md",ref:t,children:[s.jsx(qe,{asChild:!0,className:"w-full rounded-md px-2 py-0 hover:bg-accent hover:no-underline data-[state=open]:rounded-b-none",children:s.jsx(gc,{dependency:e})}),s.jsx(Ge,{className:"p-1 pb-0",children:s.jsx(vc,{dependency:e})})]}));ko.displayName="DependencyListItem";const bc=({dependencies:e})=>{const{openDependencyFromSidebar:t,openedDependencyInSidebar:n}=Ie(),r=N.useRef(null),o=e.reduce((l,d)=>(l[d.id]=N.createRef(),l),{}),a=c.useCallback(l=>{var d,u;return(u=(d=o[l])==null?void 0:d.current)==null?void 0:u.scrollIntoView({behavior:"smooth",block:"start"})},[o]),i=c.useCallback(()=>{n&&r.current!==n&&(r.current=n,a(n))},[a,n]);return s.jsx(Gt,{type:"single",collapsible:!0,className:"flex w-full flex-col gap-1",value:n,onValueChange:t,onAnimationEnd:i,children:e.map(l=>s.jsx(ko,{dependency:l,ref:o[l.id]},l.id))})},yc=()=>{const{dependencies:e,filteredSchemas:t,getTable:n}=he(),[r,o]=N.useState(""),{closeAllDependenciesInSidebar:a}=Ie(),{t:i}=ge(),l=c.useMemo(()=>{const d=p=>{var v,w,m;if(!((v=r==null?void 0:r.trim)!=null&&v.call(r)))return!0;const f=((w=n(p.tableId))==null?void 0:w.name)??"",h=((m=n(p.dependentTableId))==null?void 0:m.name)??"";return f.toLowerCase().includes(r.toLowerCase())||h.toLowerCase().includes(r.toLowerCase())},u=p=>xa(p,t);return e.filter(u).filter(d).sort((p,f)=>{const h=n(p.dependentTableId),v=n(p.tableId),w=n(f.dependentTableId),m=n(f.tableId);return`${h==null?void 0:h.name}${v==null?void 0:v.name}`.localeCompare(`${w==null?void 0:w.name}${m==null?void 0:m.name}`)})},[e,r,t,n]);return s.jsxs("section",{className:"flex flex-1 flex-col overflow-hidden px-2",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 py-1",children:[s.jsx("div",{children:s.jsxs(de,{children:[s.jsx(ue,{asChild:!0,children:s.jsx("span",{children:s.jsx(U,{variant:"ghost",className:"size-8 p-0",onClick:a,children:s.jsx(Vs,{className:"size-4"})})})}),s.jsx(fe,{children:i("side_panel.dependencies_section.collapse")})]})}),s.jsx("div",{className:"flex-1",children:s.jsx(Ze,{type:"text",placeholder:i("side_panel.dependencies_section.filter"),className:"h-8 w-full focus-visible:ring-0",value:r,onChange:d=>o(d.target.value)})})]}),s.jsx("div",{className:"flex flex-1 flex-col overflow-hidden",children:s.jsx(Pn,{className:"h-full",children:e.length===0?s.jsx(en,{title:i("side_panel.dependencies_section.empty_state.title"),description:i("side_panel.dependencies_section.empty_state.description"),className:"mt-20"}):s.jsx(bc,{dependencies:l})})})]})},Tc=()=>{const{t:e}=ge(),{schemas:t,filterSchemas:n,filteredSchemas:r}=he(),{selectSidebarSection:o,selectedSidebarSection:a,isSelectSchemaOpen:i,openSelectSchema:l,closeSelectSchema:d}=Ie(),u=c.useMemo(()=>t.map(f=>({label:f.name,value:f.id,description:`(${f.tableCount} tables)`})),[t]),p=c.useCallback(f=>{f?l():d()},[l,d]);return s.jsxs("aside",{className:"flex h-full flex-col overflow-hidden",children:[u.length>0?s.jsxs("div",{className:"flex items-center justify-center border-b pl-3 pt-0.5",children:[s.jsx("div",{className:"shrink-0 text-sm font-semibold",children:e("side_panel.schema")}),s.jsx("div",{className:"flex min-w-0 flex-1",children:s.jsx(En,{oneLine:!0,className:"w-full rounded-none border-none",selectAll:!0,deselectAll:!0,options:u,value:r??[],onChange:f=>{n(f)},placeholder:e("side_panel.filter_by_schema"),inputPlaceholder:e("side_panel.search_schema"),emptyPlaceholder:e("side_panel.no_schemas_found"),multiple:!0,open:i,onOpenChange:p})})]}):null,s.jsx("div",{className:"flex justify-center border-b pt-0.5",children:s.jsxs(Sr,{value:a,onValueChange:f=>o(f),children:[s.jsxs(zn,{className:"rounded-none border-none font-semibold shadow-none hover:bg-secondary hover:underline focus:border-transparent focus:ring-0",children:[s.jsx(_r,{}),s.jsx("div",{className:"flex flex-1 justify-end px-2 text-xs font-normal text-muted-foreground",children:e("side_panel.view_all_options")})]}),s.jsx(Bn,{children:s.jsxs(Rr,{children:[s.jsx(Fe,{value:"tables",children:e("side_panel.tables_section.tables")}),s.jsx(Fe,{value:"relationships",children:e("side_panel.relationships_section.relationships")}),s.jsx(Fe,{value:"dependencies",children:e("side_panel.dependencies_section.dependencies")})]})})]})}),a==="tables"?s.jsx(fc,{}):a==="relationships"?s.jsx(xc,{}):s.jsx(yc,{})]})};export{Tc as S};
